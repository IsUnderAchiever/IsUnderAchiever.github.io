<!DOCTYPE html>

<html lang="zh-CN">

<head>
    
    <title>数据结构与算法 - 折影轻梦</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="折影轻梦,Mixcm,轻惋,觅漫者,小舒同学,Xiaoshu,Nexmoe,产品,Meteor,探索者小舒,伴学OS1,Theme,Design,Product">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
    <meta name="description" content="数据结构与算法二分查找import org.junit.jupiter.api.Test;import static org.junit.jupiter.api.Assertions.assertEquals;&#x2F;** * 二分查找 * * @Author: 不是菜鸡爱编程 * @Date: 2024&#x2F;03&#x2F;02&#x2F;22:02 * @Description: *&#x2F;class _01BinarySear">
<meta property="og:type" content="article">
<meta property="og:title" content="数据结构与算法">
<meta property="og:url" content="https://isunderachiever.github.io/shu-ju-jie-gou-yu-suan-fa/shu-ju-jie-gou-yu-suan-fa.html">
<meta property="og:site_name" content="折影轻梦">
<meta property="og:description" content="数据结构与算法二分查找import org.junit.jupiter.api.Test;import static org.junit.jupiter.api.Assertions.assertEquals;&#x2F;** * 二分查找 * * @Author: 不是菜鸡爱编程 * @Date: 2024&#x2F;03&#x2F;02&#x2F;22:02 * @Description: *&#x2F;class _01BinarySear">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-03-04T00:00:00.000Z">
<meta property="article:modified_time" content="2024-06-01T14:12:24.882Z">
<meta property="article:author" content="折影轻梦">
<meta property="article:tag" content="数据结构与算法">
<meta name="twitter:card" content="summary">
    
<link rel="stylesheet" href="/lib/fancybox/fancybox.css">
<link rel="stylesheet" href="/lib/mdui_043tiny/mdui.css">


    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1717340472226">
    
    <link rel="stylesheet" href="/css/style.css?v=1717340472226">

    
        
            <link rel="stylesheet" href="/custom.css?v=1717340472226">
        
    

    
<script src="/lib/mdui_043tiny/mdui.js" async></script>
<script src="/lib/fancybox/fancybox.umd.js" async></script>


    <script async src="/js/app.js?v=1717340472226"></script>
    
     

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4D4ZJ9G024"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag("js", new Date());

  gtag("config", "G-4D4ZJ9G024");
</script>

<meta name="generator" content="Hexo 6.3.0"></head>

<body class="mdui-drawer-body-left">
    <div id="nexmoe-background">
        <div class="nexmoe-bg" 
            style="background-image: url(https://raw.githubusercontent.com/IsUnderAchiever/blog-img/master/about/202309161102206.jpg)"
        ></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="折影轻梦" class="mdui-btn mdui-btn-icon"><img src="https://raw.githubusercontent.com/IsUnderAchiever/blog-img/master/about/202309161102017.jpg" alt="折影轻梦"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="折影轻梦">
            <img src="https://raw.githubusercontent.com/IsUnderAchiever/blog-img/master/about/202309161102017.jpg" alt="折影轻梦" alt="折影轻梦">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>169</div>
        <div><span>标签</span>62</div>
        <div><span>分类</span>63</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/archive.html" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/life.html" title="我的生活">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的生活
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about.html" title="关于博主">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博主
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
        
            
            <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        
            <form id="search_form">
                <label><input class="st-default-search-input" id="search_value" name="q" type="search" placeholder="搜索" style="
                    font-size: 15px !important;
                    height: 56px !important;
                    background-image: none;
                "></label>
            </form>
         
    </div>
</div>


	<script async src="/js/search.js?v=1717340472226"></script>



        
            
            <div class="nexmoe-widget-wrap">
	<div class="nexmoe-widget nexmoe-social">
		<a
			class="mdui-ripple"
			href="https://github.com/IsUnderAchiever/"
			target="_blank"
			mdui-tooltip="{content: 'QQ群'}"
			style="
				color: rgb(249, 174, 8);
				background-color: rgba(249, 174, 8, .1);
			"
		>
			<i
				class="nexmoefont icon-QQ"
			></i> </a
		><a
			class="mdui-ripple"
			href="https://space.bilibili.com/477448861/"
			target="_blank"
			mdui-tooltip="{content: '哔哩哔哩'}"
			style="
				color: rgb(231, 106, 141);
				background-color: rgba(231, 106, 141, .1);
			"
		>
			<i
				class="nexmoefont icon-bilibili"
			></i> </a
		>
	</div>
</div>

        
            
            
            
            
            
            
    </aside>
    <div class="nexmoe-copyright">
        &copy; 2024 折影轻梦
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
    <div class="nexmoe-post">
  <article>
    
        <div class="nexmoe-post-cover"> 
            <img src="https://raw.githubusercontent.com/IsUnderAchiever/blog-img/master/about/202309161102206.jpg" alt="数据结构与算法" loading="lazy">
            <h1>数据结构与算法</h1>
        </div>
    
    
    <div class="nexmoe-post-meta">
    <div class="nexmoe-rainbow">
        <a class="nexmoefont icon-calendar-fill">2024年03月04日</a>
        
            <a class="nexmoefont icon-appstore-fill -link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a>
        
        
    </div>
    
    
    
    
    
</div>

    <h1 id="数据结构与算法"><a href="#数据结构与算法" class="headerlink" title="数据结构与算法"></a>数据结构与算法</h1><h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 对结果进行断言</span><br>        assertEquals(<span class="hljs-number">0</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">1</span>));<br>        assertEquals(<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">3</span>));<br>        assertEquals(<span class="hljs-number">2</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">5</span>));<br>        assertEquals(<span class="hljs-number">3</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">7</span>));<br>        assertEquals(<span class="hljs-number">4</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">9</span>));<br>        assertEquals(<span class="hljs-number">5</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">10</span>));<br>        assertEquals(<span class="hljs-number">6</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">13</span>));<br>        assertEquals(-<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">0</span>));<br>        assertEquals(-<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">14</span>));<br>        assertEquals(-<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">8</span>));<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-comment">// 起始位置和结束位置</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, max = arr.length - <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// 循环条件，需要加等于，否则无法取到边界值</span><br>        <span class="hljs-keyword">while</span> (min &lt;= max) &#123;<br>            <span class="hljs-comment">// 中间位置</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (min + max) / <span class="hljs-number">2</span>;<br>            <span class="hljs-comment">// 查找元素在中间元素左边</span><br>            <span class="hljs-keyword">if</span> (arr[mid] &gt; search) &#123;<br>                max = mid - <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// 查找元素在中间元素右边</span><br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr[mid] &lt; search) &#123;<br>                min = mid + <span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// 查找元素就是中间元素</span><br>                <span class="hljs-keyword">return</span> mid;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 没有找到元素</span><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>需要注意的点有循环条件里的等于号不可省略，否则无法取到边界值</p>
<p>同时<code>int mid = (min + max) / 2;</code>这段代码有些问题</p>
<p>如果在数值比较大的情况下，可能导致数值过大，超出int类型能表示的最大数值</p>
<p>正确写法可使用右移运算符<code>int mid = (min + max) &gt;&gt;&gt; 1;</code><br><strong>平替改动版</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 对结果进行断言</span><br>        assertEquals(<span class="hljs-number">0</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">1</span>));<br>        assertEquals(<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">3</span>));<br>        assertEquals(<span class="hljs-number">2</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">5</span>));<br>        assertEquals(<span class="hljs-number">3</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">7</span>));<br>        assertEquals(<span class="hljs-number">4</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">9</span>));<br>        assertEquals(<span class="hljs-number">5</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">10</span>));<br>        assertEquals(<span class="hljs-number">6</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">13</span>));<br>        assertEquals(-<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">0</span>));<br>        assertEquals(-<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">14</span>));<br>        assertEquals(-<span class="hljs-number">1</span>,binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">8</span>));<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-comment">// 起始位置和结束位置 此时无法取到结束位置,max处的元素并不存在</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, max = arr.length;<br>        <span class="hljs-comment">// 当min==max时，即可结束</span><br>        <span class="hljs-keyword">while</span> (min &lt; max) &#123;<br>            <span class="hljs-comment">// 中间位置</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (min + max) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 查找元素在中间元素左边</span><br>            <span class="hljs-keyword">if</span> (arr[mid] &gt; search) &#123;<br>                <span class="hljs-comment">// max处的元素肯定不是查找值,(max-1)是可能为查找值的</span><br>                max = mid;<br>                <span class="hljs-comment">// 查找元素在中间元素右边</span><br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr[mid] &lt; search) &#123;<br>                min = mid + <span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// 查找元素就是中间元素</span><br>                <span class="hljs-keyword">return</span> mid;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 没有找到元素</span><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>上方代码改动了三处</p>
<p><code>max = arr.length;</code></p>
<p><code>while (min &lt; max)</code></p>
<p><code>max = mid;</code></p>
<p>注意max指向的位置是永远不可能为查找值的</p>
</blockquote>
<h3 id="如何衡量算法的好坏"><a href="#如何衡量算法的好坏" class="headerlink" title="如何衡量算法的好坏"></a>如何衡量算法的好坏</h3><p><code>时间复杂度</code>用来衡量一个算法的执行，随数据规模增大，而增长的时间成本<br><code>空间复杂度</code>则是空间成本<br><a target="_blank" rel="noopener" href="https://www.desmos.com/calculator?lang=zh-CN">画图网站</a></p>
<h3 id="二分查找性能"><a href="#二分查找性能" class="headerlink" title="二分查找性能"></a>二分查找性能</h3><p>时间复杂度<br>最坏情况: O(logn)</p>
<ul>
<li>最好情况:如果待查找元素恰好在数组中央，只需要循环一-次0(1)</li>
<li>空间复杂度<br>需要常数个指针i, j, m,因此额外占用的空间是0(1)<blockquote>
<p>当前二分查找的问题<br>如果循环次数为L次，查找元素在最左边<code>if...else</code>查找次数为L次，查找元素在最右边，则次数为2L次<br><strong>继续改动</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 对结果进行断言</span><br>        assertEquals(<span class="hljs-number">0</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">1</span>));<br>        assertEquals(<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">3</span>));<br>        assertEquals(<span class="hljs-number">2</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">5</span>));<br>        assertEquals(<span class="hljs-number">3</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">7</span>));<br>        assertEquals(<span class="hljs-number">4</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">9</span>));<br>        assertEquals(<span class="hljs-number">5</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">10</span>));<br>        assertEquals(<span class="hljs-number">6</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">13</span>));<br>        assertEquals(-<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">0</span>));<br>        assertEquals(-<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">14</span>));<br>        assertEquals(-<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">8</span>));<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 二分查找</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> arr    数组</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> search 搜索</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> int</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-comment">// 起始位置和结束位置 此时无法取到结束位置,max处的元素并不存在</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, max = arr.length;<br>        <span class="hljs-comment">// 代表起始和结束位置中间至少有一个待查找元素</span><br>        <span class="hljs-keyword">while</span> (max - min &gt; <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-comment">// 中间位置</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (min + max) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 查找元素在中间元素左边</span><br>            <span class="hljs-keyword">if</span> (arr[mid] &gt; search) &#123;<br>                max = mid;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                min = mid;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(arr[min]== search)&#123;<br>            <span class="hljs-keyword">return</span> min;<br>        &#125;<br>        <span class="hljs-comment">// 没有找到元素</span><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 线性查找</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> arr    数组</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> search 搜索</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> int</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">linearSearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>            <span class="hljs-keyword">if</span> (arr[i] == search) &#123;<br>                <span class="hljs-keyword">return</span> i;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="二分查找Java源码"><a href="#二分查找Java源码" class="headerlink" title="二分查找Java源码"></a>二分查找Java源码</h3><blockquote>
<p>方法<code>Arrays.binarySearch()</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch0</span><span class="hljs-params">(<span class="hljs-type">long</span>[] a, <span class="hljs-type">int</span> fromIndex, <span class="hljs-type">int</span> toIndex,</span><br><span class="hljs-params">                                 <span class="hljs-type">long</span> key)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">low</span> <span class="hljs-operator">=</span> fromIndex;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">high</span> <span class="hljs-operator">=</span> toIndex - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (low &lt;= high) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (low + high) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">midVal</span> <span class="hljs-operator">=</span> a[mid];<br>        <span class="hljs-keyword">if</span> (midVal &lt; key)<br>            low = mid + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (midVal &gt; key)<br>            high = mid - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-keyword">return</span> mid; <span class="hljs-comment">// key found</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> -(low + <span class="hljs-number">1</span>);  <span class="hljs-comment">// key not found.</span><br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>这里在没有找到元素的情况下返回的是<code>-插入点-1</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span>[] ints = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> Arrays.binarySearch(ints, target);<br>        System.out.println(<span class="hljs-string">&quot;i = &quot;</span> + i);<br>        <span class="hljs-comment">// 如果查找元素不存在</span><br>        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">indexAbs</span> <span class="hljs-operator">=</span> Math.abs(i + <span class="hljs-number">1</span>);<br>            <span class="hljs-type">int</span>[] newInts = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[ints.length + <span class="hljs-number">1</span>];<br>            <span class="hljs-comment">// 复制数组内容</span><br>            System.arraycopy(ints, <span class="hljs-number">0</span>, newInts, <span class="hljs-number">0</span>, indexAbs);<br>            newInts[indexAbs] = target;<br>            System.arraycopy(ints, indexAbs, newInts, indexAbs + <span class="hljs-number">1</span>, ints.length - indexAbs);<br>            System.out.println(<span class="hljs-string">&quot;indexAbs = &quot;</span> + indexAbs);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> newInt : newInts) &#123;<br>                System.out.printf(<span class="hljs-string">&quot;%d\t&quot;</span>, newInt);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>二分查找如何查找<code>左侧重复元素</code>的索引呢？</p>
<p>如<code>1,2,2,3,4</code>，查找元素<code>2</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 对结果进行断言</span><br>        assertEquals(<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">3</span>));<br>        assertEquals(-<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">5</span>));<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 二分查找</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> arr    数组</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> search 搜索</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> int</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-comment">// 起始位置和结束位置 此时无法取到结束位置,max处的元素并不存在</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, max = arr.length - <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// 记录重复元素最左侧的索引</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">candidate</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// 当min==max时，即可结束</span><br>        <span class="hljs-keyword">while</span> (min &lt;= max) &#123;<br>            <span class="hljs-comment">// 中间位置</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (min + max) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 查找元素在中间元素左边</span><br>            <span class="hljs-keyword">if</span> (arr[mid] &gt; search) &#123;<br>                <span class="hljs-comment">// max处的元素肯定不是查找值,(max-1)是可能为查找值的</span><br>                max = mid - <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// 查找元素在中间元素右边</span><br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr[mid] &lt; search) &#123;<br>                min = mid + <span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// 查找元素就是中间元素</span><br>                <span class="hljs-comment">// 继续向左查找，是否有重复元素</span><br>                candidate = mid;<br>                max = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 没有找到元素</span><br>        <span class="hljs-keyword">return</span> candidate;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>既然可以查找最左侧，那么<code>最右侧</code>如何实现</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 对结果进行断言</span><br>        assertEquals(<span class="hljs-number">2</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">3</span>));<br>        assertEquals(-<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">5</span>));<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 二分查找</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> arr    数组</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> search 搜索</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> int</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-comment">// 起始位置和结束位置 此时无法取到结束位置,max处的元素并不存在</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, max = arr.length - <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// 记录重复元素最左侧的索引</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">candidate</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// 当min==max时，即可结束</span><br>        <span class="hljs-keyword">while</span> (min &lt;= max) &#123;<br>            <span class="hljs-comment">// 中间位置</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (min + max) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 查找元素在中间元素左边</span><br>            <span class="hljs-keyword">if</span> (arr[mid] &gt; search) &#123;<br>                <span class="hljs-comment">// max处的元素肯定不是查找值,(max-1)是可能为查找值的</span><br>                max = mid - <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// 查找元素在中间元素右边</span><br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr[mid] &lt; search) &#123;<br>                min = mid + <span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">// 查找元素就是中间元素</span><br>                <span class="hljs-comment">// 继续向右边查找，是否有重复元素</span><br>                candidate = mid;<br>                min = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 没有找到元素</span><br>        <span class="hljs-keyword">return</span> candidate;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>当没有找到元素的时候，返回-1</p>
<p>其实这个<code>-1</code>没啥用，可以返回一个<code>&quot;更有用&quot;</code>的值<br><strong>二分查找左侧版</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 对结果进行断言</span><br>        assertEquals(<span class="hljs-number">1</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">3</span>));<br>        <span class="hljs-comment">// 如果目标不存在，则查找大于目标且最靠左的值</span><br>        assertEquals(<span class="hljs-number">3</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">5</span>));<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 二分查找</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> arr    数组</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> search 搜索</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> int</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-comment">// 起始位置和结束位置 此时无法取到结束位置,max处的元素并不存在</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, max = arr.length - <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// 当min==max时，即可结束</span><br>        <span class="hljs-keyword">while</span> (min &lt;= max) &#123;<br>            <span class="hljs-comment">// 中间位置</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (min + max) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 查找元素在中间元素左边</span><br>            <span class="hljs-keyword">if</span> (arr[mid] &gt;= search) &#123;<br>                <span class="hljs-comment">// max处的元素肯定不是查找值,(max-1)是可能为查找值的</span><br>                max = mid - <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// 查找元素在中间元素右边</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                min = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 没有找到元素</span><br>        <span class="hljs-keyword">return</span> max + <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>二分查找右侧板</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.assertEquals;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 二分查找</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Author</span>: 不是菜鸡爱编程</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2024/03/02/22:02</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">_01BinarySearch</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">binarySearchTest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 对结果进行断言</span><br>        assertEquals(<span class="hljs-number">2</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">3</span>));<br>        <span class="hljs-comment">// 如果目标不存在，则查找小于目标且最靠右的值</span><br>        assertEquals(<span class="hljs-number">2</span>, binarySearch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">13</span>&#125;, <span class="hljs-number">5</span>));<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 二分查找</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> arr    数组</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> search 搜索</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> int</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> search)</span> &#123;<br>        <span class="hljs-comment">// 起始位置和结束位置 此时无法取到结束位置,max处的元素并不存在</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">min</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, max = arr.length - <span class="hljs-number">1</span>;<br>        <span class="hljs-comment">// 当min==max时，即可结束</span><br>        <span class="hljs-keyword">while</span> (min &lt;= max) &#123;<br>            <span class="hljs-comment">// 中间位置</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (min + max) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// 查找元素在中间元素左边</span><br>            <span class="hljs-keyword">if</span> (arr[mid] &gt; search) &#123;<br>                <span class="hljs-comment">// max处的元素肯定不是查找值,(max-1)是可能为查找值的</span><br>                max = mid - <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// 查找元素在中间元素右边</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                min = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 没有找到元素</span><br>        <span class="hljs-keyword">return</span> min - <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>应用场景，在有重复总分的情况下求排名<br>力扣题目</p>
</blockquote>
<ul>
<li>704.二分查找</li>
<li>35.搜索插入位置</li>
<li>34.搜索开始结束位置</li>
</ul>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>因为数组内的元素是连续存储的，所以数组中元素的地址，可以通过其索引计算出来<br>知道了数组的数据起始地址BaseAddress,就可以由公式|BaseAddress + i * size计算出索引i元素的地址</p>
<ul>
<li>i即索引，在Java、C等语言都是从0开始</li>
<li>size是每个元素占用字节，例如int占4, double 占8<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-type">byte</span>[] array = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;<br></code></pre></td></tr></table></figure>
已知array的数据的起始地址是<code>0x7138f94c8</code>,那么元素3的地址是什么?<br>byte-&gt;每个元素占用1字节<br><code>0x7138f94c8+2*1=0x7138f94ca</code></li>
</ul>
<h3 id="空间占用"><a href="#空间占用" class="headerlink" title="空间占用"></a>空间占用</h3><p>Java中数组结构为</p>
<ul>
<li>8字节markword</li>
<li>4字节class指针(压缩class指针的情况)</li>
<li>4字节数组大小(决定了数组最大容量是232)</li>
<li>数组元素+对齐字节(java中所有对象大小都是8字节的整数倍，不足的要用对齐字节补足)</li>
</ul>

    
  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>本文作者：</strong>折影轻梦<br>
        <strong>本文链接：</strong><a href="https://isunderachiever.github.io/shu-ju-jie-gou-yu-suan-fa/shu-ju-jie-gou-yu-suan-fa.html" title="https:&#x2F;&#x2F;isunderachiever.github.io&#x2F;shu-ju-jie-gou-yu-suan-fa&#x2F;shu-ju-jie-gou-yu-suan-fa.html" target="_blank" rel="noopener">https:&#x2F;&#x2F;isunderachiever.github.io&#x2F;shu-ju-jie-gou-yu-suan-fa&#x2F;shu-ju-jie-gou-yu-suan-fa.html</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可

        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
   
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" rel="tag">数据结构与算法</a>
    
</div>
  
  

  
      <div class="nexmoe-post-footer">
          <script src="https://giscus.app/client.js"
    data-repo="nexmoe/nexmoe.com"
    data-repo-id="R_kgDOJI1XUA"
    data-category="General"
    data-category-id="DIC_kwDOJI1XUM4CU1nn"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
</script>

      </div>
  
</div>
</div>
        <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                        
                          
                          
                              <button class="mdui-fab catalog" style="overflow:unset;">
                                  <i class="nexmoefont icon-i-catalog"></i>
                                  <div class="nexmoe-toc">
                                      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">数据结构与算法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE"><span class="toc-number">1.1.</span> <span class="toc-text">二分查找</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%A1%A1%E9%87%8F%E7%AE%97%E6%B3%95%E7%9A%84%E5%A5%BD%E5%9D%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">如何衡量算法的好坏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%80%A7%E8%83%BD"><span class="toc-number">1.1.2.</span> <span class="toc-text">二分查找性能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BEJava%E6%BA%90%E7%A0%81"><span class="toc-number">1.1.3.</span> <span class="toc-text">二分查找Java源码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.2.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E9%97%B4%E5%8D%A0%E7%94%A8"><span class="toc-number">1.2.1.</span> <span class="toc-text">空间占用</span></a></li></ol></li></ol></li></ol>
                                  </div>
                              </button>
                          
                          
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="Back To Top" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
    </div>
    <div id="nexmoe-search-space">
	<div class="search-container">
		<div class="search-header">
			<div class="search-input-container">
				<input
					class="search-input"
					type="text"
					placeholder="搜索"
					oninput="sinput();"
				/>
			</div>
			<a class="search-close" onclick="sclose();">×</a>
		</div>
		<div class="search-body"></div>
	</div>
</div>

    
    
</body>

</html>
