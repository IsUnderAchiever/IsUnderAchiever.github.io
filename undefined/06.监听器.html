<hr>
<h2 id="title-监听器date-2023-07-13-23-00-00categories-“vue3”tags-“vue3”"><a href="#title-监听器date-2023-07-13-23-00-00categories-“vue3”tags-“vue3”" class="headerlink" title="title: 监听器date: 2023-07-13 23:00:00categories: “vue3”tags: “vue3”"></a>title: 监听器<br>date: 2023-07-13 23:00:00<br>categories: “vue3”<br>tags: “vue3”</h2><h1 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h1><blockquote>
<p>watch第一个参数监听源</p>
<p>watch第二个参数回调函数cb（newVal,oldVal）</p>
<p>watch第三个参数一个options配置项是一个对象(<code>immediate</code>是否立即调用一次、deep:true 是否开启<code>深度监听</code>)</p>
<p><a href="https://xiaoman.blog.csdn.net/article/details/122797990">原博客</a></p>
</blockquote>
<pre><code class="vue">&lt;template&gt;
  &lt;a-button danger @click=&quot;change&quot;&gt;测试&lt;/a-button&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
import {reactive, ref, computed, watch} from &#39;vue&#39;;
import {message} from &quot;ant-design-vue&quot;;

let keywords = ref&lt;number&gt;(0)

watch(keywords, (newVal, oldVal) =&gt; {
  message.success(&#39;新的值:&#39; + newVal+&#39;   旧的值:&#39;+oldVal);
}, {
  deep: true
})

let change = () =&gt; {
  keywords.value += 1;
}
&lt;/script&gt;
</code></pre>
