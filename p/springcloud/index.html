<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="SpringCloud">
<title>SpringCloud</title>

<link rel='canonical' href='https://IsUnderAchiever.github.io/p/springcloud/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="SpringCloud">
<meta property='og:description' content="SpringCloud">
<meta property='og:url' content='https://IsUnderAchiever.github.io/p/springcloud/'>
<meta property='og:site_name' content='Ê∑±Êµ∑ÁÅ´ÈîÖÂ∫ó'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-04-10T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2024-04-10T00:00:00&#43;00:00'/><meta property='og:image' content='https://IsUnderAchiever.github.io/p/springcloud/202412212133331.png' />
<meta name="twitter:title" content="SpringCloud">
<meta name="twitter:description" content="SpringCloud"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://IsUnderAchiever.github.io/p/springcloud/202412212133331.png' />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/header_hu16240087013746809388.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üòÅ</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Ê∑±Êµ∑ÁÅ´ÈîÖÂ∫ó</a></h1>
            <h2 class="site-description">ËÆ∞ÂΩïÊàëÁöÑÊàêÈïøÂè≤</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/477448861'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1734756297204" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4471" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M685.21 117.15c6.63-9.41 21.12-11.52 30.21-4.47 9.06 6.34 11.49 19.96 5.35 29.12-35.44 51.91-70.81 103.88-106.31 155.76-0.63 1.02-1.16 2.09-1.7 3.16 86.41 0.03 172.82 0.01 259.22 0.02 10.3-0.39 19.61 8.97 19.11 19.28 0.08 172.65 0.18 345.31 0.23 517.97 0.29 9.97-8.32 19.2-18.33 19.35-21.78 0.24-43.56-0.17-65.32 0.19-1.96 17.65-9.87 34.97-23.27 46.85-12.92 12-31.5 17.75-48.9 14.36-28.92-5.43-48.64-33.26-51.72-61.39-109.19 0.08-218.38 0.08-327.57 0-2.33 18.48-10.77 36.55-25.23 48.6-15.66 13.62-39.03 17.75-58.17 9.42-23.11-9.58-37.95-33.47-40.48-57.84-27.1-0.36-54.23 0.06-81.33-0.21-9.8-0.41-18.09-9.49-17.73-19.28 0.06-170.34 0.08-340.69 0.12-511.04 0.1-4.55-0.51-9.27 1.09-13.64 2.49-7.28 9.81-12.67 17.54-12.61 91.71-0.09 183.42 0.12 275.13-0.11-50.14-27.95-100.88-54.9-151.14-82.66-10.46-5.79-13.59-20.94-6.66-30.59 5.82-9.13 18.87-12.17 28.25-6.87 69.04 37.58 138.06 75.18 207.1 112.76 3.52 1.62 5.91 4.67 8.61 7.31 15.47 0.33 30.96 0.05 46.45 0.15 41.94-61.11 83.59-122.43 125.45-183.59M169.87 336.87c-0.09 161.25 0.16 322.48 0.35 483.72 228.11-0.17 456.22-0.07 684.33-0.05-0.02-161.22 0.22-322.46 0.07-483.68-228.25 0.01-456.5-0.02-684.75 0.01M271 857.38c2.22 11.33 10.44 23.52 23 24.07 12.45-0.26 21.53-12.56 22.95-24.07-15.32 0.05-30.64 0.02-45.95 0m452.05 0c1.42 11.5 10.51 23.79 22.95 24.07 12.54-0.55 20.85-12.71 22.99-24.06-15.31 0.01-30.63 0.04-45.94-0.01z" fill="#454545" p-id="4472"></path><path d="M221.28 374.37c3.83-0.94 7.81-0.61 11.72-0.65 188.33 0.01 376.65-0.01 564.98 0.01 10.85-0.43 20.67 9.41 20.08 20.27 0.14 123.33-0.02 246.66 0.16 369.99 0.13 8.3-5.4 16.35-13.29 19-4.14 1.52-8.61 1.18-12.93 1.19-188.67-0.04-377.35 0.06-566.02-0.04-12.39 0.23-21.58-12.32-19.69-24.15 0.06-122.01 0.04-244.03 0.11-366.04-0.24-8.92 6.15-17.52 14.88-19.58M243 410.18c-0.38 112.4 0.15 224.81 0.11 337.21 179.44 0.13 358.89 0.09 538.34 0.02 0.01-112.43 0.4-224.89-0.09-337.3-179.45 0.14-358.91-0.01-538.36 0.07z" fill="#454545" p-id="4473"></path><path d="M600.4 471.55c5.06-1.37 10.69-0.78 15.28 1.8 35.65 21.33 71.26 42.72 106.91 64.07 4.92 2.83 10.29 5.72 13.05 10.95 4.45 7.6 3.2 17.98-3.01 24.24-6.32 7.05-17.67 8.31-25.62 3.34-37.26-22.4-74.56-44.75-111.83-67.13-6.4-3.83-10.36-11.35-9.78-18.79 0.31-8.57 6.75-16.33 15-18.48zM405.42 481.48c8.67-1.08 17.67 4.03 21.1 12.09 4.57 9.77-0.18 22.57-10.12 26.85-33.02 15.3-66.04 30.58-99.07 45.84-9.66 4.53-22.34-0.1-26.68-9.87-4.95-9.45-0.72-22.17 8.73-26.97 30.72-14.34 61.56-28.44 92.31-42.72 4.46-1.98 8.79-4.61 13.73-5.22zM407.29 596.31c8.9-3.09 19.57 1.06 24.09 9.31 4.37 7.1 1.79 15.88 4.5 23.51 3.44 13.44 14.3 26.79 29.14 27.09 13.98 0.07 24.84-11.84 28.91-24.34 2.31-6.05 2.52-12.54 2.96-18.9 1.17-11.04 12.56-19.47 23.46-17.43 9.81 1.3 17.53 10.53 17.35 20.37-0.08 15.28 7.21 32.12 21.92 38.44 8.4 3.65 18.6 1.7 25.5-4.2 10.37-8.44 15.16-22.11 15.17-35.21 0.14-10.37 9.36-19.53 19.73-19.62 10.15-0.64 19.85 7.53 21.03 17.62 2.16 35.45-20.4 73.22-55.9 82.28-24.72 6.92-51.53-3.48-68.08-22.38-10.45 11.74-24.48 20.62-40.07 23.39-17.51 3.32-36.18-1.22-50.48-11.76-21.88-15.69-33.94-42.91-33.43-69.55 0.28-8.35 6.19-16.17 14.2-18.62z" fill="#454545" p-id="4474"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/IsUnderAchiever'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÈìæÊé•</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://IsUnderAchiever.github.io/en/" >English</option>
                                
                                    <option value="https://IsUnderAchiever.github.io/" selected>‰∏≠Êñá</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#ÊúçÂä°ÁöÑÊ≥®ÂÜåÂèëÁé∞">ÊúçÂä°ÁöÑÊ≥®ÂÜåÂèëÁé∞</a>
      <ol>
        <li><a href="#httpËØ∑Ê±Ç">HttpËØ∑Ê±Ç</a>
          <ol>
            <li><a href="#È°πÁõÆÊê≠Âª∫">È°πÁõÆÊê≠Âª∫</a></li>
            <li><a href="#ÁºñÂÜôcontroller‰ª£Á†Å">ÁºñÂÜôcontroller‰ª£Á†Å</a></li>
          </ol>
        </li>
        <li><a href="#eureka">Eureka</a>
          <ol>
            <li><a href="#Ê¶ÇÂøµ">Ê¶ÇÂøµ</a></li>
            <li><a href="#Êê≠Âª∫eurekaÊúçÂä°">Êê≠Âª∫EurekaÊúçÂä°</a></li>
            <li><a href="#ÊúçÂä°Ê≥®ÂÜå">ÊúçÂä°Ê≥®ÂÜå</a></li>
            <li><a href="#ÊúçÂä°ÂèëÁé∞">ÊúçÂä°ÂèëÁé∞</a></li>
            <li><a href="#Ë¥üËΩΩÂùáË°°">Ë¥üËΩΩÂùáË°°</a></li>
            <li><a href="#È••È•øÂä†ËΩΩ">È••È•øÂä†ËΩΩ</a></li>
          </ol>
        </li>
        <li><a href="#nacos">Nacos</a>
          <ol>
            <li><a href="#ÂÆâË£Ö">ÂÆâË£Ö</a></li>
            <li><a href="#Ëß£ÂÜ≥Êä•Èîô">Ëß£ÂÜ≥Êä•Èîô</a></li>
            <li><a href="#‰æùËµñ">‰æùËµñ</a></li>
            <li><a href="#ÊúçÂä°ÂàÜÁ∫ßÂ≠òÂÇ®Ê®°Âûã">ÊúçÂä°ÂàÜÁ∫ßÂ≠òÂÇ®Ê®°Âûã</a></li>
            <li><a href="#ÊùÉÈáçËÆæÁΩÆ">ÊùÉÈáçËÆæÁΩÆ</a></li>
            <li><a href="#ÁéØÂ¢ÉÈöîÁ¶ª">ÁéØÂ¢ÉÈöîÁ¶ª</a></li>
            <li><a href="#nacosÊ≥®ÂÜå‰∏≠ÂøÉÂéüÁêÜ">NacosÊ≥®ÂÜå‰∏≠ÂøÉÂéüÁêÜ</a></li>
            <li><a href="#ÈÖçÁΩÆÁÆ°ÁêÜ">ÈÖçÁΩÆÁÆ°ÁêÜ</a></li>
            <li><a href="#ÈÖçÁΩÆÁÉ≠Êõ¥Êñ∞">ÈÖçÁΩÆÁÉ≠Êõ¥Êñ∞</a></li>
            <li><a href="#Â§öÁéØÂ¢ÉÈÖçÁΩÆÂÖ±‰∫´">Â§öÁéØÂ¢ÉÈÖçÁΩÆÂÖ±‰∫´</a></li>
            <li><a href="#ÊåÅ‰πÖÂåñ">ÊåÅ‰πÖÂåñ</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#feign">Feign</a>
      <ol>
        <li><a href="#ÂÖ•Èó®-1">ÂÖ•Èó®</a></li>
        <li><a href="#springboot3Êñ∞ÁâπÊÄß">SpringBoot3Êñ∞ÁâπÊÄß</a></li>
        <li><a href="#feignËá™ÂÆö‰πâÈÖçÁΩÆ">FeignËá™ÂÆö‰πâÈÖçÁΩÆ</a></li>
        <li><a href="#ÊÄßËÉΩ‰ºòÂåñ">ÊÄßËÉΩ‰ºòÂåñ</a></li>
        <li><a href="#ÊúÄ‰Ω≥ÂÆûË∑µ">ÊúÄ‰Ω≥ÂÆûË∑µ</a></li>
      </ol>
    </li>
    <li><a href="#gateway">Gateway</a>
      <ol>
        <li><a href="#ÂÖ•Èó®-2">ÂÖ•Èó®</a></li>
        <li><a href="#È°πÁõÆÂàõÂª∫">È°πÁõÆÂàõÂª∫</a></li>
        <li><a href="#Ë∑ØÁî±Êñ≠Ë®ÄÂ∑•ÂéÇ">Ë∑ØÁî±Êñ≠Ë®ÄÂ∑•ÂéÇ</a></li>
        <li><a href="#Ë∑ØÁî±ËøáÊª§Âô®">Ë∑ØÁî±ËøáÊª§Âô®</a></li>
        <li><a href="#ÂÖ®Â±ÄËøáÊª§Âô®">ÂÖ®Â±ÄËøáÊª§Âô®</a></li>
        <li><a href="#ËøáÊª§Âô®ÊâßË°åÈ°∫Â∫è">ËøáÊª§Âô®ÊâßË°åÈ°∫Â∫è</a>
          <ol>
            <li><a href="#Ë∑®ÂüüÈóÆÈ¢òÂ§ÑÁêÜ">Ë∑®ÂüüÈóÆÈ¢òÂ§ÑÁêÜ</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/springcloud/">
                <img src="/p/springcloud/202412212133331_hu211479134585629788.png"
                        srcset="/p/springcloud/202412212133331_hu211479134585629788.png 800w, /p/springcloud/202412212133331_hu17266170340933010716.png 1600w"
                        width="800" 
                        height="296" 
                        loading="lazy"
                        alt="Featured image of post SpringCloud" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/spring/" style="background-color: #2a9d8f; color: #fff;">
                Spring
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/springcloud/">SpringCloud</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            SpringCloud
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">2024-04-10</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 34 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="springcloud">SpringCloud
</h1><h2 id="ÊúçÂä°ÁöÑÊ≥®ÂÜåÂèëÁé∞">ÊúçÂä°ÁöÑÊ≥®ÂÜåÂèëÁé∞
</h2><h3 id="httpËØ∑Ê±Ç">HttpËØ∑Ê±Ç
</h3><blockquote>
<p>ÂæÆÊúçÂä°ËøúÁ®ãË∞ÉÁî®ÂèØ‰ª•ÈááÁî®<code>Http</code>Âíå<code>RPC</code>ÁöÑÊñπÂºè</p>
</blockquote>
<h4 id="È°πÁõÆÊê≠Âª∫">È°πÁõÆÊê≠Âª∫
</h4><p>Ê≥®ÂÜå<code>RestTemplate</code>ÔºåÈÄöËøá<code>RestTemplate</code>Êù•ÂÆûÁé∞httpËØ∑Ê±ÇË∞ÉÁî®ÂÖ∂‰ªñÊúçÂä°</p>
<blockquote>
<ol>
<li>Êñ∞Âª∫‰∏Ä‰∏™Á©∫È°πÁõÆÔºåÂêç‰∏∫<code>cloud-demo</code></li>
<li>Âú®<code>cloud-demo</code>‰∏ãÊñ∞Âª∫‰∏Ä‰∏™<code>order</code>È°πÁõÆÂíå<code>user</code>È°πÁõÆ(ËøôÈáåÈááÁî®<code>jdk17</code>Êñ∞Âª∫<code>springboot3</code>Â∑•Á®ã)
cloud-demo/pom.xml</li>
</ol>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>cloud-demo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>cloud-demo<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>cloud-demo<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;packaging&gt;</span>pom<span class="nt">&lt;/packaging&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modules&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;module&gt;</span>order<span class="nt">&lt;/module&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;module&gt;</span>user<span class="nt">&lt;/module&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/modules&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;properties&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;java.version&gt;</span>17<span class="nt">&lt;/java.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.reporting.outputEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-boot.version&gt;</span>3.0.2<span class="nt">&lt;/spring-boot.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud-alibaba.version&gt;</span>2022.0.0.0-RC2<span class="nt">&lt;/spring-cloud-alibaba.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud.version&gt;</span>2022.0.0-RC2<span class="nt">&lt;/spring-cloud.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;mysql.version&gt;</span>8.3.0<span class="nt">&lt;/mysql.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;lombok.version&gt;</span>1.18.24<span class="nt">&lt;/lombok.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;mybatis-plus.version&gt;</span>3.5.5<span class="nt">&lt;/mybatis-plus.version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/properties&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencyManagement&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${mybatis-plus.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${mysql.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${lombok.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-boot-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-boot.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-alibaba-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud-alibaba.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencyManagement&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/project&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>user/pom.xml</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;parent&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>cloud-demo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/parent&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>user<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>user<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>user<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/project&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>order‰∏éuser‰∏ÄÊ†∑</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;parent&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>cloud-demo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/parent&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>order<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>order<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>order<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/project&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>user/application.properties</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">spring.application.name</span><span class="o">=</span><span class="s">user-service</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Â∫îÁî®ÊúçÂä° WEB ËÆøÈóÆÁ´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8080</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÈ©±Âä®Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.driver-class-name</span><span class="o">=</span><span class="s">com.mysql.cj.jdbc.Driver</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìËøûÊé•Âú∞ÂùÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.url</span><span class="o">=</span><span class="s">jdbc:mysql://localhost:3306/cloud-user?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÁî®Êà∑Âêç&amp;ÂØÜÁ†ÅÔºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.username</span><span class="o">=</span><span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.password</span><span class="o">=</span><span class="s">123456</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÊ∫êÂêçÁß∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.name</span><span class="o">=</span><span class="s">defaultDataSource</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÊâìÂç∞sqlÊó•Âøó</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.configuration.log-impl</span><span class="o">=</span><span class="s">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</span></span><span class="line"><span class="cl"><span class="c1"># xmlÊñá‰ª∂Ë∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.mapper-locations</span><span class="o">=</span><span class="s">classpath:/mapper/**/*.xml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÂåÖË∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.type-aliases-package</span><span class="o">=</span><span class="s">com.example.user.domain</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆÂÖ®Â±ÄÈªòËÆ§‰∏ªÈîÆÁ±ªÂûãÔºåÂÆû‰ΩìÁ±ª‰∏çÁî®Âä†@TableId(value =&#34;id&#34;,type = IdType.AUTO)</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.global-config.db-config.id-type</span><span class="o">=</span><span class="s">auto</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>order/application.properties</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">spring.application.name</span><span class="o">=</span><span class="s">order-service</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Â∫îÁî®ÊúçÂä° WEB ËÆøÈóÆÁ´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8090</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÈ©±Âä®Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.driver-class-name</span><span class="o">=</span><span class="s">com.mysql.cj.jdbc.Driver</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìËøûÊé•Âú∞ÂùÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.url</span><span class="o">=</span><span class="s">jdbc:mysql://localhost:3306/cloud-order?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÁî®Êà∑Âêç&amp;ÂØÜÁ†ÅÔºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.username</span><span class="o">=</span><span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.password</span><span class="o">=</span><span class="s">123456</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÊ∫êÂêçÁß∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.name</span><span class="o">=</span><span class="s">defaultDataSource</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÊâìÂç∞sqlÊó•Âøó</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.configuration.log-impl</span><span class="o">=</span><span class="s">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</span></span><span class="line"><span class="cl"><span class="c1"># xmlÊñá‰ª∂Ë∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.mapper-locations</span><span class="o">=</span><span class="s">classpath:/mapper/**/*.xml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÂåÖË∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.type-aliases-package</span><span class="o">=</span><span class="s">com.example.order.domain</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆÂÖ®Â±ÄÈªòËÆ§‰∏ªÈîÆÁ±ªÂûãÔºåÂÆû‰ΩìÁ±ª‰∏çÁî®Âä†@TableId(value =&#34;id&#34;,type = IdType.AUTO)</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.global-config.db-config.id-type</span><span class="o">=</span><span class="s">auto</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËøôÈáå‰ΩøÁî®<code>idea</code>Ëá™Â∏¶ÁöÑÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÂ∑•ÂÖ∑Êù•Êñ∞Âª∫Êï∞ÊçÆÂ∫ì
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404085254211.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404085254211"
	
	
>
userÊï∞ÊçÆÂ∫ìÂ¶Ç‰∏ãÔºåËæìÂÖ•<code>cloud-user</code>ÔºåorderÂêåÁêÜ<code>cloud-order</code></p>
<p>Âè≥ÈîÆÊï∞ÊçÆÂ∫ìÔºåÈÄâÊã©ÂàõÂª∫Ë°®
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404085443159.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404085443159"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404085814092.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404085814092"
	
	
></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">user</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">       </span><span class="nb">int</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;Áî®Êà∑ÁºñÂè∑&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">username</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;Ë¥¶Âè∑&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">address</span><span class="w">  </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;Âú∞ÂùÄ&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">user_pk</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;Áî®Êà∑Ë°®&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">cloud</span><span class="o">-</span><span class="k">user</span><span class="o">`</span><span class="p">.</span><span class="k">user</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ÊπñÂåó&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">cloud</span><span class="o">-</span><span class="k">user</span><span class="o">`</span><span class="p">.</span><span class="k">user</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;zhangsan&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ÊπñÂçó&#39;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">cloud</span><span class="o">-</span><span class="k">user</span><span class="o">`</span><span class="p">.</span><span class="k">user</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;lisi&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Â±±Ë•ø&#39;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">`</span><span class="n">orders</span><span class="o">`</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span><span class="w">      </span><span class="nb">int</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;ËÆ¢ÂçïÁºñÂè∑&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="w">    </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;ÂêçÁß∞&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">price</span><span class="w">   </span><span class="nb">decimal</span><span class="w">     </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;‰ª∑Ê†º&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">num</span><span class="w">     </span><span class="nb">int</span><span class="w">         </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;Êï∞Èáè&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">user_id</span><span class="w"> </span><span class="nb">int</span><span class="w">         </span><span class="k">null</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;Áî®Êà∑ÁºñÂè∑&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">constraint</span><span class="w"> </span><span class="n">order_pk</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;ËÆ¢ÂçïË°®&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">cloud</span><span class="o">-</span><span class="k">order</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">orders</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Â∞èÁ±≥ÊâãÊú∫&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">4999</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">cloud</span><span class="o">-</span><span class="k">order</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">orders</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Âçé‰∏∫ÊâãÊú∫&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5999</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">cloud</span><span class="o">-</span><span class="k">order</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">orders</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;È≠ÖÊóèÊâãÊú∫&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3999</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">cloud</span><span class="o">-</span><span class="k">order</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">orders</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="n">user_id</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;OPPOÊâãÊú∫&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">4000</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Êàë‰ª¨ÁöÑ<code>ÈúÄÊ±Ç</code>ÊòØ:<strong><code>Ê†πÊçÆËÆ¢ÂçïidÊü•ËØ¢ËÆ¢ÂçïÁöÑÂêåÊó∂ÔºåÊääËÆ¢ÂçïÊâÄÂ±ûÁöÑÁî®Êà∑‰ø°ÊÅØ‰∏ÄËµ∑ËøîÂõû</code></strong></p>
<p>ËøôÈáåÂ∞±ÊòØ<code>MyBatisX</code>‰∏ÄÈîÆÁîüÊàê<code>mapper</code>„ÄÅ<code>service</code>‰ª£Á†Å‰∫Ü</p>
<p>ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑè‰∏™ÈóÆÈ¢ò<code>Ë°®Âêç</code>‰∏çË¶ÅÂè´<code>order</code>ÔºåorderÂ±û‰∫éÊï∞ÊçÆÂ∫ìÁöÑÂÖ≥ÈîÆÂ≠óÔºåÈÄâÊã©<code>orders</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404090905809.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404090905809"
	
	
></p>
</blockquote>
<h4 id="ÁºñÂÜôcontroller‰ª£Á†Å">ÁºñÂÜôcontroller‰ª£Á†Å
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@PostMapping</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">saveOrUpdate</span><span class="p">(</span><span class="n">orders</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@DeleteMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">removeById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Orders</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">list</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Orders</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/page&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Page</span><span class="o">&lt;</span><span class="n">Orders</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findPage</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                                </span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">pageSize</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">page</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Page</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;user&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UserController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">UserService</span><span class="w"> </span><span class="n">userService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@PostMapping</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">userService</span><span class="p">.</span><span class="na">saveOrUpdate</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@DeleteMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Boolean</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">userService</span><span class="p">.</span><span class="na">removeById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">userService</span><span class="p">.</span><span class="na">list</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">userService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/page&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Page</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findPage</span><span class="p">(</span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">pageNum</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                                </span><span class="nd">@RequestParam</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">pageSize</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">userService</span><span class="p">.</span><span class="na">page</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Page</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">pageNum</span><span class="p">,</span><span class="w"> </span><span class="n">pageSize</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËæìÂÖ•http://localhost:8080/user/1Âç≥ÂèØËÆøÈóÆÂà∞<code>user</code>ÁöÑÁªìÊûú</p>
<p>ËæìÂÖ•http://localhost:8090/order/1Âç≥ÂèØËÆøÈóÆÂà∞<code>order</code>ÁöÑÁªìÊûú</p>
<p><strong><code>Ê†πÊçÆËÆ¢ÂçïidÊü•ËØ¢ËÆ¢ÂçïÁöÑÂêåÊó∂ÔºåÊääËÆ¢ÂçïÊâÄÂ±ûÁöÑÁî®Êà∑‰ø°ÊÅØ‰∏ÄËµ∑ËøîÂõû</code></strong> ÈúÄÊ±ÇÂèØ‰ª•ËΩ¨Âèò‰∏∫ Âú®<code>OrderController</code>‰∏≠ËØ∑Ê±Ç‰∏Ä‰∏ãuserÁöÑÁªìÊûúÔºåÁÑ∂ÂêéÂ∞ÅË£ÖËøîÂõû
<strong>ÈÖçÁΩÆOrderÊúçÂä°ÁöÑRestTemplate</strong></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Configuration</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.web.client.RestTemplate</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * HttpËØ∑Ê±ÇË∞ÉÁî®ÈÖçÁΩÆ
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @author: ‰∏çÊòØËèúÁãóÁà±ÁºñÁ®ã
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @date: 2024/04/04/8:40
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @description:
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Configuration</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HttpConfig</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÂàõÂª∫RestTemplateÂπ∂Ê≥®ÂÖ•springÂÆπÂô®
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return {@link RestTemplate}
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RestTemplate</span><span class="w"> </span><span class="nf">restTemplate</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RestTemplate</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Â§çÂà∂<code>User</code>ÂÆû‰ΩìÁ±ªÂà∞<code>Order</code>ÊúçÂä°</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@AllArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@NoArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">address</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>Order</code>ÊúçÂä°Êñ∞Â¢û‰∏Ä‰∏™<code>User</code>Â±ûÊÄß</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@TableName</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="s">&#34;orders&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Orders</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@TableId</span><span class="p">(</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IdType</span><span class="p">.</span><span class="na">AUTO</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">price</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">num</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">userId</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@TableField</span><span class="p">(</span><span class="n">exist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@TableField</span><span class="p">(</span><span class="n">exist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">serialVersionUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1L</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>‰øÆÊîπ<code>OrdersController</code>ÊñπÊ≥ï</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">USER_SERVICE_URL</span><span class="o">=</span><span class="s">&#34;http://localhost:8080/user/&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">RestTemplate</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Orders</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">.</span><span class="na">getForObject</span><span class="p">(</span><span class="n">USER_SERVICE_URL</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(),</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">orders</span><span class="p">.</span><span class="na">setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orders</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËÆøÈóÆhttp://localhost:8090/order/1
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404112131695.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404112131695"
	
	
>
‰ª•‰∏äÔºåÂÆûÁé∞‰∫ÜË∑®ÂÖ•ÊúçÂä°ÁöÑËøúÁ®ãË∞ÉÁî®</p>
</blockquote>
<h3 id="eureka">Eureka
</h3><h4 id="Ê¶ÇÂøµ">Ê¶ÇÂøµ
</h4><p>ÊúçÂä°Êèê‰æõËÄÖ: ‰∏ÄÊ¨°‰∏öÂä°‰∏≠ÔºåË¢´ÂÖ∂ÂÆÉÂæÆÊúçÂä°Ë∞ÉÁî®ÁöÑÊúçÂä°„ÄÇ(Êèê‰æõÊé•Âè£ÁªôÂÖ∂ÂÆÉÂæÆÊúçÂä°)
ÊúçÂä°Ê∂àË¥πËÄÖ: ‰∏ÄÊ¨°‰∏öÂä°‰∏≠ÔºåË∞ÉÁî®ÂÖ∂ÂÆÉÂæÆÊúçÂä°ÁöÑÊúçÂä°„ÄÇ(Ë∞ÉÁî®ÂÖ∂ÂÆÉÂæÆÊúçÂä°Êèê‰æõÁöÑÊé•Âè£)
‰ª•‰∏ä‰ª£Á†ÅÁöÑÂÆûÁé∞‰∏≠ÔºåUserÊòØÊúçÂä°ÁöÑÊèê‰æõËÄÖÔºåOrderÊòØÊúçÂä°ÁöÑÊ∂àË¥πËÄÖ
‰ª£Á†Å‰∏≠‰ΩøÁî®<code>Á°¨ÁºñÁ†Å</code>Â∞ÜurlÂÜôÂú®‰ª£Á†Å‰∏≠ÔºåÂ∞ÜÊù•Â¶ÇÊûúÈÉ®ÁΩ≤ÊàêÈõÜÁæ§ÔºåÂàô<code>Á°¨ÁºñÁ†Å</code>Â∫îËØ•ÊÄé‰πàÂäûÔºü
Â∫îËØ•ÈÄâÊã©Âì™‰∏ÄÂè∞ÔºüÈÄâÁöÑÈÇ£‰∏ÄÂè∞ÂÆû‰æãÊòØÂê¶‰æùÁÑ∂Ê≠£Â∏∏Ôºü
<code>Eureka</code>„ÄÅ<code>Nacos</code>ÂèØ‰ª•ÂÆûÁé∞‰∏äËø∞ÈúÄÊ±Ç
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404112656015.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404112656015"
	
	
></p>
<blockquote>
<p>Âú®ÊØè‰∏Ä‰∏™ÊúçÂä°ÂêØÂä®Êó∂ÔºåÂ∞ÜËá™Â∑±ÁöÑÊúçÂä°‰ø°ÊÅØÊ≥®ÂÜåÂà∞<code>Eureka</code>‰∏≠ÔºåËøôÊó∂ÂÄô<code>Eureka</code>‰∏≠Â∑≤ÁªèÂ≠òÂÇ®‰∫ÜÁõ∏ÂÖ≥ÁöÑ<code>Order</code>Âíå<code>User</code>ÊúçÂä°ÁöÑ‰ø°ÊÅØ</p>
<p>Âú®<code>Order</code>ÊúçÂä°Ë∞ÉÁî®<code>User</code>ÊúçÂä°Êó∂Ôºå<code>Order</code>ÊúçÂä°ÂâçÂæÄ<code>Eureka</code>‰∏≠ÊâæÂà∞<code>User</code>ÊúçÂä°ÁöÑurl</p>
<p>ÈÇ£ÊÄé‰πàÁü•ÈÅìÊâæÂà∞ÁöÑ<code>User</code>ÊúçÂä°ÊòØÂê¶‰æùÁÑ∂Ê≠£Â∏∏ËøêË°åÔºü</p>
<p>ÊúçÂä°‰ºöÊØè30sÂêë<code>Eureka</code>ÂèëÈÄÅÂøÉË∑≥ÔºåÂ¶ÇÊûúÂøÉË∑≥ÂÅúÊ≠¢ÔºåËØ¥ÊòéÊúçÂä°ÂºÇÂ∏∏
Âú®<code>Eureka</code>Êû∂ÊûÑ‰∏≠ÔºåÂæÆÊúçÂä°ËßíËâ≤Êúâ‰∏§Á±ª:</p>
</blockquote>
<ol>
<li>EurekaServer: ÊúçÂä°Á´ØÔºåÊ≥®ÂÜå‰∏≠ÂøÉ
<ul>
<li>ËÆ∞ÂΩïÊúçÂä°‰ø°ÊÅØ</li>
<li>ÂøÉË∑≥ÁõëÊéß</li>
</ul>
</li>
<li>EurekaClient: ÂÆ¢Êà∑Á´Ø
<ol>
<li>Provider: ÊúçÂä°Êèê‰æõËÄÖÔºå‰æãÂ¶ÇÊ°à‰æã‰∏≠ÁöÑuser-service
<ul>
<li>Ê≥®ÂÜåËá™Â∑±ÁöÑ‰ø°ÊÅØÂà∞EurekaServer</li>
<li>ÊØèÈöî30ÁßíÂêëEurekaServerÂèëÈÄÅÂøÉË∑≥</li>
</ul>
</li>
<li>consumer:ÊúçÂä°Ê∂àË¥πËÄÖÔºå‰æãÂ¶ÇÊ°à‰æã‰∏≠ÁöÑorder-service
<ul>
<li>Ê†πÊçÆÊúçÂä°ÂêçÁß∞‰ªéEurekaServerÊãâÂèñÊúçÂä°ÂàóË°®</li>
<li>Âü∫‰∫éÊúçÂä°ÂàóË°®ÂÅöË¥üËΩΩÂùáË°°ÔºåÈÄâ‰∏≠‰∏Ä‰∏™ÂæÆÊúçÂä°ÂêéÂèëËµ∑ËøúÁ®ãË∞ÉÁî®</li>
</ul>
</li>
</ol>
</li>
</ol>
<h4 id="Êê≠Âª∫eurekaÊúçÂä°">Êê≠Âª∫EurekaÊúçÂä°
</h4><ol>
<li>ÂºïÂÖ•‰æùËµñ</li>
<li>ÁºñÂÜôÂêØÂä®Á±ªÔºåÊ∑ªÂä†<code>@EnableEurekaServer</code>Ê≥®Ëß£</li>
<li>ÈÖçÁΩÆ<code>application.properties</code></li>
</ol>
<blockquote>
<p>cloud-demo/pom.xml</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>cloud-demo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>cloud-demo<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>cloud-demo<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;packaging&gt;</span>pom<span class="nt">&lt;/packaging&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modules&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;module&gt;</span>order<span class="nt">&lt;/module&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;module&gt;</span>user<span class="nt">&lt;/module&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;module&gt;</span>eureka<span class="nt">&lt;/module&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/modules&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;properties&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;java.version&gt;</span>17<span class="nt">&lt;/java.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.reporting.outputEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-boot.version&gt;</span>3.0.2<span class="nt">&lt;/spring-boot.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud.version&gt;</span>2022.0.0-RC2<span class="nt">&lt;/spring-cloud.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;mysql.version&gt;</span>8.3.0<span class="nt">&lt;/mysql.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;lombok.version&gt;</span>1.18.24<span class="nt">&lt;/lombok.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;mybatis-plus.version&gt;</span>3.5.5<span class="nt">&lt;/mybatis-plus.version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/properties&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencyManagement&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${mybatis-plus.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${mysql.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${lombok.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-boot-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-boot.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencyManagement&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/project&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>eureka/pom.xml</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;parent&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>cloud-demo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/parent&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>eureka<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>eureka<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>eureka<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/project&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableEurekaServer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@SpringBootApplication</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">EurekaApplication</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">EurekaApplication</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Â∫îÁî®ÊúçÂä° WEB ËÆøÈóÆÁ´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8070</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶Â∞ÜËá™Â∑±Ê≥®ÂÜåÂà∞Ê≥®ÂÜå‰∏≠ÂøÉ</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.client.register-with-eureka</span><span class="o">=</span><span class="s">false</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶‰ªéEurekaServerÊäìÂèñÂ∑≤ÊúâÁöÑÊ≥®ÂÜå‰ø°ÊÅØÔºåÈªòËÆ§‰∏∫true„ÄÇ ÂçïËäÇÁÇπÊó†ÊâÄË∞ìÔºå ÈõÜÁæ§ÂøÖÈ°ªËÆæÁΩÆ‰∏∫trueÊâçËÉΩÈÖçÂêàribbon‰ΩøÁî®Ë¥üËΩΩÂùáË°°</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.client.fetch-registry</span><span class="o">=</span><span class="s">false</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.client.service-url.defaultZone</span><span class="o">=</span><span class="s">http://localhost:${server.port}/eureka/</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Êú∫Âà∂</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.server.enable-self-preservation</span><span class="o">=</span><span class="s">false</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.server.eviction-interval-timer-in-ms</span><span class="o">=</span><span class="s">2000</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404125646354.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404125646354"
	
	
>
<code>Eureka</code>ÈÖçÁΩÆÊàêÂäüÔºåÂè™ÊòØÊ≠§Êó∂Âπ∂Ê≤°ÊúâÊúçÂä°Ê≥®ÂÜåÂà∞<code>Eureka</code></p>
<h4 id="ÊúçÂä°Ê≥®ÂÜå">ÊúçÂä°Ê≥®ÂÜå
</h4><blockquote>
<p>ÈÖçÁΩÆ<code>user</code>Âíå<code>order</code>ÔºåÂ∞ÜÊúçÂä°Ê≥®ÂÜåËøõ<code>eureka</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">eureka.instance.hostname</span><span class="o">=</span><span class="s">${spring.application.name}</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶ÊòæÁ§∫ip</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.instance.prefer-ip-address</span><span class="o">=</span><span class="s">true</span>
</span></span><span class="line"><span class="cl"><span class="c1">#EurekaÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅÂøÉË∑≥ÁöÑÊó∂Èó¥Èó¥ÈöîÔºåÂçï‰Ωç‰∏∫Áßí(ÈªòËÆ§ÊòØ30Áßí)</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.instance.lease-renewal-interval-in-seconds</span><span class="o">=</span><span class="s">3</span>
</span></span><span class="line"><span class="cl"><span class="c1">#Eureka,ÊúçÂä°Á´ØÂú®Êî∂Âà∞ÊúÄÂêé-Ê¨°ÂøÉË∑≥ÂêéÁ≠âÂæÖÊó∂Èó¥‰∏äÈôêÔºåÂçï‰Ωç‰∏∫Áßí(ÈªòËÆ§ÊòØ90Áßí)ÔºåË∂ÖÊó∂Â∞ÜÂâîÈô§ÊúçÂä°</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.instance.lease-expiration-duration-in-seconds</span><span class="o">=</span><span class="s">5</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.client.service-url.defaultZone</span><span class="o">=</span><span class="s">http://localhost:8070/eureka/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130043753.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130043753"
	
	
></p>
<blockquote>
<p>ÂèØ‰ª•ÁúãÂà∞Ê≠§Êó∂ÊúçÂä°Â∑≤ÁªèÊ≥®ÂÜåÂà∞<code>Eureka</code>‰∫ÜÔºå‰ΩÜËøô‰∫õÊúçÂä°ÈÉΩÊòØ‰∏Ä‰∏™ÂÆû‰æãÔºåÂêØÂä®Â§ö‰∏™ÂÆû‰æãËØïËØï
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130440728.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130440728"
	
	
>
Â¶ÇÊûúÊâæ‰∏çÂà∞<code>Services</code>ÔºåÂèØ‰ª•Âú®<code>View - Tool Windows</code>Â§ÑÊ∑ªÂä†
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130540152.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130540152"
	
	
>
Âè≥ÈîÆÊúçÂä°ÔºåÈÄâÊã©<code>Copy Configuration</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130611273.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130611273"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130728336.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130728336"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130811273.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130811273"
	
	
></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆÊúçÂä°ÂêØÂä®Á´ØÂè£</span>
</span></span><span class="line"><span class="cl">-Dserver.port<span class="o">=</span><span class="m">8081</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Âè≥ÈîÆÂêØÂä®ËØ•ÂÆû‰æã
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130916547.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130916547"
	
	
>
ÂâçÂæÄ<code>Eureka</code>È°µÈù¢Êü•Áúã
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404130945137.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404130945137"
	
	
></p>
</blockquote>
<h4 id="ÊúçÂä°ÂèëÁé∞">ÊúçÂä°ÂèëÁé∞
</h4><blockquote>
<p>Êàë‰ª¨Â∏åÊúõ<code>Order</code>ÊúçÂä°Ë∞ÉÁî®<code>User</code>ÊúçÂä°Êó∂ÔºåÂâçÂæÄ<code>Eureka</code>Ê≥®ÂÜå‰∏≠ÂøÉËé∑ÂèñÂà∞<code>User</code>ÊúçÂä°ÁöÑ‰ø°ÊÅØ</p>
<p>ËÄå‰∏çÊòØ‰ΩøÁî®Á°¨ÁºñÁ†ÅÁöÑÂΩ¢ÂºèÂÜôÊ≠ª<code>User</code>ÊúçÂä°ÁöÑ<code>ip</code>Âíå<code>Á´ØÂè£</code></p>
</blockquote>
<ol>
<li>‰øÆÊîπOrderServiceÁöÑ‰ª£Á†ÅÔºå‰øÆÊîπËÆøÈóÆÁöÑurlË∑ØÂæÑÔºåÁî®ÊúçÂä°Âêç‰ª£Êõøip„ÄÅÁ´ØÂè£:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">String</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;http://user-service/user/&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">order</span><span class="p">.</span><span class="na">getUserId</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Âú®order-serviceÈ°πÁõÆÁöÑÂêØÂä®Á±ªOrderApplication‰∏≠ÁöÑRestTemplateÊ∑ªÂä†Ë¥üËΩΩÂùáË°°Ê≥®Ëß£:</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@LoadBalanced</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="n">RestTempLate</span><span class="w"> </span><span class="nf">restTempLate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RestTemplate</span><span class="p">()</span><span class="w"> </span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>Âú®ÂêØÂä®Á±ªÂ±±Ê∑ªÂä†<code>@EnableDiscoveryClient</code>Ê≥®Ëß£</li>
</ol>
<blockquote>
<p>‰øÆÊîπ<code>HttpConfig</code>ÁöÑ‰ª£Á†Å</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Configuration</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HttpConfig</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * ÂàõÂª∫RestTemplateÂπ∂Ê≥®ÂÖ•springÂÆπÂô®
</span></span></span><span class="line"><span class="cl"><span class="cm">     *
</span></span></span><span class="line"><span class="cl"><span class="cm">     * @return {@link RestTemplate}
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@LoadBalanced</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">RestTemplate</span><span class="w"> </span><span class="nf">restTemplate</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RestTemplate</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>‰øÆÊîπ<code>OrdersController</code>‰ª£Á†Å</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">RestTemplate</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Orders</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">.</span><span class="na">getForObject</span><span class="p">(</span><span class="s">&#34;http://user-service/user/&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(),</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">orders</span><span class="p">.</span><span class="na">setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orders</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Â¶ÇÊûúÊä•Èîô<code>No instances available for user-service</code></p>
<p>ËØ∑Êü•Áúã<a class="link" href="https://blog.csdn.net/Kevinnsm/article/details/117117061"  target="_blank" rel="noopener"
    >ÂçöÂÆ¢</a>
Â¶ÇÊûú‰æùÁÑ∂‰∏çËÉΩËß£ÂÜ≥ÔºåËØ∑Êü•Áúã<code>application.properties</code>ÈáåÊòØÂê¶ÈÖçÁΩÆ‰∫ÜÂ¶Ç‰∏ãÂÜÖÂÆπÔºåÂ¶ÇÊûúÊòØÔºåÂà†Èô§ÂêéÈáçÂêØÂç≥ÂèØËß£ÂÜ≥</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶‰ªéEurekaServerÊäìÂèñÂ∑≤ÊúâÁöÑÊ≥®ÂÜå‰ø°ÊÅØÔºåÈªòËÆ§‰∏∫true„ÄÇ ÂçïËäÇÁÇπÊó†ÊâÄË∞ìÔºå ÈõÜÁæ§ÂøÖÈ°ªËÆæÁΩÆ‰∏∫trueÊâçËÉΩÈÖçÂêàribbon‰ΩøÁî®Ë¥üËΩΩÂùáË°°</span>
</span></span><span class="line"><span class="cl"><span class="na">eureka.client.fetch-registry</span><span class="o">=</span><span class="s">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404152215166.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404152215166"
	
	
></p>
<blockquote>
<p>ËøôÊ†∑Â∞±ÂèØ‰ª•ÈÄöËøá<code>ÊúçÂä°Âêç</code>ÁöÑÊñπÂºèÊù•ÂÆåÊàêÊúçÂä°‰πãÈó¥ÁöÑË∞ÉÁî®ÔºåÂì™ÊÄïÊúçÂä°ÂêØÂä®‰∫Ü<code>Â§ö‰∏™ÂÆû‰æã</code></p>
</blockquote>
<h4 id="Ë¥üËΩΩÂùáË°°">Ë¥üËΩΩÂùáË°°
</h4><h5 id="Âü∫Á°Ä">Âü∫Á°Ä
</h5><blockquote>
<p><code>Ribbon</code>ÂÆûÁé∞Ë¥üËΩΩÂùáË°°
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404152632326.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404152632326"
	
	
>
<code>Ribbon</code>ÊòØÂ¶Ç‰ΩïÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÁöÑÂë¢Ôºü
Ê∑ªÂä†‰∫Ü<code>@LoadBalanced</code>Ê≥®Ëß£ÂêéÔºåË°®ÊòéËØ•<code>RestTemplate</code>ÂèëËµ∑ÁöÑËØ∑Ê±ÇÔºåÈúÄË¶ÅË¢´<code>Ribbon</code>Êù•Êã¶Êà™Â§ÑÁêÜ</p>
<p>ËÄåÊã¶Êà™ÁöÑÂä®‰ΩúÊòØ<code>LoadBalancerInterceptor</code>Êù•ÂÆåÊàêÁöÑ</p>
<p><code>idea</code>‰∏≠Êåâ‰∏§‰∏ã<code>shift</code>ÂêéÊêúÁ¥¢Âç≥ÂèØ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404153010079.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404153010079"
	
	
>
ËÄå<code>LoadBalancerInterceptor</code>Á±ªÂÆûÁé∞‰∫Ü<code>ClientHttpRequestInterceptor</code>Êé•Âè£
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404153426292.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404153426292"
	
	
>
ÂÆÉ‰ºöÂéªÊã¶Êà™Áî±ÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑ<code>Http</code>ËØ∑Ê±ÇÔºåËÄå<code>RestTemplate</code>Ê≠£ÊòØ‰∏Ä‰∏™Âèë<code>Http</code>ËØ∑Ê±ÇÁöÑÂÆ¢Êà∑Á´Ø</p>
<p><code>LoadBalancerInterceptor</code>Á±ªÂÆûÁé∞‰∫Ü<code>intercept</code>ÊñπÊ≥ï</p>
<p>Âú®<code>LoadBalancerInterceptor</code>ÊâìÊñ≠ÁÇπË∞ÉËØï‰∏Ä‰∏ãÔºå<code>debug</code>ËøêË°å<code>Order</code></p>
<p>ÂèëÁé∞ËØ∑Ê±ÇÁ°ÆÂÆûË¢´<code>LoadBalancerInterceptor</code>Êã¶Êà™‰∫Ü
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404153840301.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404153840301"
	
	
>
ÂèØ‰ª•ÁúãÂà∞<code>Order</code>ÊúçÂä°ÂèëËµ∑‰∫Ü‰∏Ä‰∏™<code>Http</code>ËØ∑Ê±ÇÔºåUrlÊòØ<code>http://user-service/user/1</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404154021714.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404154021714"
	
	
>
ÊâßË°åÂÆå<code>String serviceName = originalUri.getHost();</code>‰ª£Á†Å‰πãÂêéÔºåËé∑ÂèñÂà∞‰∫Ü‰∏ªÊú∫Âêç<code>user-service</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404154138579.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404154138579"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404154304632.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404154304632"
	
	
>
ËøõÂÖ•<code>loadBalancer.execute</code>ÊñπÊ≥ïÔºåÁªßÁª≠ÊâßË°å
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404155350933.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404155350933"
	
	
>
ÂèëÁé∞ËøôÈáåÂ∑≤ÁªèËé∑ÂèñÂà∞<code>User</code>ÊúçÂä°ÁöÑ<code>ip</code>‰∫ÜÔºåÊàë‰ª¨ËøêË°å‰∫ÜÂ§ö‰∏™<code>User</code>ÊúçÂä°ÁöÑÂÆû‰æãÔºåËøôÈáåÂ§ßÂÆ∂ÂèØËÉΩÁúãÂà∞ÁöÑÊòØ<code>8080</code>ÊàñËÄÖ<code>8090</code></p>
<p>ÊòØÂú®Ëøô‰∏ÄË°å‰ª£Á†Å‰∏äËé∑ÂèñÂà∞‰∫Ü<code>User</code>ÊúçÂä°
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404155904705.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404155904705"
	
	
>
ÈÇ£ÂÆÉÊÄé‰πàÁü•ÈÅìÊàñËÄÖÊåâ‰ªÄ‰πàËßÑÂàôÊù•Ëé∑ÂèñÁöÑ<code>ÂÖ∂‰∏≠‰∏Ä‰∏™UserÊúçÂä°</code>Âë¢Ôºü</p>
<p>ÁªßÁª≠ËøõÂéªÔºåÂèëÁé∞ÂèØËÉΩÊòØÂú®<code>loadBalancer.choose</code>Ëé∑ÂèñÂà∞ÁöÑ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404160035088.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404160035088"
	
	
>
ÂÜçÂæÄÈáåËµ∞Â∞±ÊòØ‰∏Ä‰∏™Êé•Âè£‰∫Ü<code>ReactiveLoadBalancer</code></p>
<p>Êåâ‰Ωè<code>Ctrl H</code>Êü•ÁúãËøô‰∏™Êé•Âè£ÁöÑÂÆûÁé∞Á±ª
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404160119331.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404160119331"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404160330743.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404160330743"
	
	
>
ËøôÈáå<code>Eureka</code>ÈªòËÆ§ÁöÑË∞ÉÂ∫¶Êú∫Âà∂ÂÖ∂ÂÆûÊòØ<code>ËΩÆËØ¢</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404160846349.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404160846349"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404161057944.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404161057944"
	
	
></p>
</blockquote>
<h5 id="Á≠ñÁï•">Á≠ñÁï•
</h5><p>ÈÄöËøáÂÆö‰πâIRuleÂÆûÁé∞ÂèØ‰ª•‰øÆÊîπË¥üËΩΩÂùáË°°ËßÑÂàôÔºåÊúâ‰∏§ÁßçÊñπÂºè:
‰ª£Á†ÅÊñπÂºè:Âú®ÈÖçÁΩÆÁ±ª‰∏≠ÔºåÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑIRule:(ÂÖ®Â±ÄÈÖçÁΩÆÔºå‰∏çÁÆ°Ë∞ÉÁî®Âì™‰∏™ÊúçÂä°ÔºåÈÉΩ‰ºöÈááÁî®Ëøô‰∏™Ë¥üËΩΩÂùáË°°ËßÑÂàô)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">pubtic</span><span class="w"> </span><span class="n">IRuLe</span><span class="w"> </span><span class="nf">randomRuLe</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">RandomRuLe</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Á¨¨‰∫åÁßçÈÖçÁΩÆÊñπÊ°àÊòØ<code>properties</code>ÔºåËÄåËøôÁßçÊñπÊ≥ïÊòØÈíàÂØπÊØè‰∏™ÊúçÂä°Êù•ÈÖçÁΩÆË¥üËΩΩÂùáË°°ËßÑÂàô</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1">#Ë¥üËΩΩÂùáË°°ËßÑÂàô</span>
</span></span><span class="line"><span class="cl"><span class="na">user-service.ribbon.NFLoadBalancerRuLeCLassName</span><span class="o">=</span><span class="s">com.netflix.Loadbalancer.RandomRuLe</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="È••È•øÂä†ËΩΩ">È••È•øÂä†ËΩΩ
</h4><p>RibbonÈªòËÆ§ÊòØÈááÁî®ÊáíÂä†ËΩΩÔºåÂç≥Á¨¨‰∏Ä Ê¨°ËÆøÈóÆÊó∂Êâç‰ºöÂéªÂàõÂª∫LoadBalanceClient, ËØ∑Ê±ÇÊó∂Èó¥‰ºöÂæàÈïø„ÄÇ
ËÄåÈ••È•øÂä†ËΩΩÂàô‰ºöÂú®È°πÁõÆÂêØÂä®Êó∂ÂàõÂª∫ÔºåÈôç‰ΩéÁ¨¨‰∏ÄÊ¨°ËÆøÈóÆÁöÑËÄóÊó∂ÔºåÈÄöËøá‰∏ãÈù¢ÈÖçÁΩÆÂºÄÂêØÈ••È•øÂä†ËΩΩ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># ÂºÄÂêØÈ••È•øÂä†ËΩΩ</span>
</span></span><span class="line"><span class="cl"><span class="na">ribbon.eager-load.enabled</span><span class="o">=</span><span class="s">true</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÂØπÊåáÂÆöÊúçÂä°È••È•øÂä†ËΩΩ</span>
</span></span><span class="line"><span class="cl"><span class="na">ribbon.eager-load.clients</span><span class="o">=</span><span class="s">user-service</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="nacos">Nacos
</h3><h4 id="ÂÆâË£Ö">ÂÆâË£Ö
</h4><p><a class="link" href="https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E"  target="_blank" rel="noopener"
    >SpringBoot„ÄÅSpringCloud„ÄÅAlibabaÁâàÊú¨ÂØπÂ∫îÂÖ≥Á≥ª</a>
<a class="link" href="https://github.com/alibaba/nacos/releases"  target="_blank" rel="noopener"
    >Nacos‰∏ãËΩΩ</a>
ÈÄâÊã©<code>2.2.1</code>ÁâàÊú¨ÁöÑ<code>Naocs</code>
<code>nacos-2.2.1/bin/startup.cmd</code>Áî®vscodeÊàñËÄÖËÆ∞‰∫ãÊú¨ÊâìÂºÄ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404230331406.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404230331406.png"
	
	
></p>
<blockquote>
<p>ÂèåÂáªÂèëÁé∞Èó™ÈÄÄÔºåÂú®ÁªìÂ∞æÂ§ÑÂä†‰∏äÂ¶Ç‰∏ã‰ª£Á†Å</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pause
</span></span><span class="line"><span class="cl">endlocal
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404230832876.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404230832876"
	
	
></p>
<blockquote>
<p>ÂÜçÊ¨°ÂèåÂáªÔºåÊü•ÁúãÂà∞Êä•Èîô‰ø°ÊÅØÔºåÊâæÂà∞<a class="link" href="https://blog.csdn.net/u013833472/article/details/129913944"  target="_blank" rel="noopener"
    >ÂçöÂÆ¢</a></p>
<p>ËøòÈúÄË¶ÅÈÖçÁΩÆconf<code>ÁõÆÂΩï‰∏ãÁöÑ</code>application.properties</p>
<p><strong>nacos.core.auth.default.token.secret.key</strong>
Ëøô‰∏™ÂèÇÊï∞ÂøÖÈ°ªÈÖçÁΩÆ‰∏∫<code>base64</code>ÁºñÁ†ÅËÄå‰∏î‰∏çËÉΩÂ∞è‰∫é32‰ΩçÔºåÈöè‰æøÊâæ‰∏™Âú®Á∫øÁΩëÁ´ôÁºñÁ†Å‰∏Ä‰∏ãÂç≥ÂèØ
ÈáçÊñ∞ÂêØÂä®nacos
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404231527819.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404231527819"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404231540377.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404231540377"
	
	
>
Ë¥¶Âè∑ÂØÜÁ†ÅÈÉΩÊòØ<code>nacos</code>
Âú®Áà∂Â∑•Á®ã‰∏≠ÈÖçÁΩÆpom.xml</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    <span class="nt">&lt;properties&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;java.version&gt;</span>17<span class="nt">&lt;/java.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.reporting.outputEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-boot.version&gt;</span>3.0.2<span class="nt">&lt;/spring-boot.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud.version&gt;</span>2022.0.0<span class="nt">&lt;/spring-cloud.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud-alibaba.version&gt;</span>2022.0.0.0-RC2<span class="nt">&lt;/spring-cloud-alibaba.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud-netflix.version&gt;</span>2.2.0.RELEASE<span class="nt">&lt;/spring-cloud-netflix.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;lombok.version&gt;</span>1.18.24<span class="nt">&lt;/lombok.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;nacos-client.version&gt;</span>1.4.4<span class="nt">&lt;/nacos-client.version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/properties&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencyManagement&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-ribbon<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud-netflix.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${nacos-client.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${lombok.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-boot-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-boot.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-alibaba-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud-alibaba.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencyManagement&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>Order</code>Âíå<code>User</code>ÊúçÂä°ÁöÑpom.xml</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>application.properties</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Á´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8090</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊúçÂä°Âêç</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.application.name</span><span class="o">=</span><span class="s">order-service</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.import-check.enabled</span><span class="o">=</span><span class="s">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404212510998.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404212510998"
	
	
></p>
<blockquote>
<p>ÊµãËØï‰∏Ä‰∏ãË¥üËΩΩÂùáË°°ÊòØÂê¶ÂèØÁî®</p>
<p>Ê≠§Êó∂ËøòÊ≤°ÊúâÊÑèËØÜÂà∞‰∫ãÊÉÖÁöÑ<code>‰∏•ÈáçÊÄß</code>ÔºåÁÑ∂ÂêéÂ∞±‰∏ÄÁõ¥Êä•Èîô‰∫Ü</p>
</blockquote>
<h4 id="Ëß£ÂÜ≥Êä•Èîô">Ëß£ÂÜ≥Êä•Èîô
</h4><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240404212744756.png"
	
	
	
	loading="lazy"
	
		alt="image-20240404212744756"
	
	
></p>
<blockquote>
<p>Êü•Áúã<a class="link" href="https://blog.csdn.net/weixin_43887184/article/details/124036205"  target="_blank" rel="noopener"
    >ÂçöÂÆ¢</a></p>
<p>Âõ†‰∏∫NetflixÁöÑÁªÑ‰ª∂‰ªé2020Âπ¥ÂºÄÂßãÂÅúÊ≠¢Áª¥Êä§ÔºåÂõ†Ê≠§spring cloud‰ºöÈÄêÊ∏êÂºÉÁî®‰ªñÂÆ∂ÁöÑÁªÑ‰ª∂,RibbonÂ∞±Âú®ÂÖ∂‰∏≠</p>
<p>‰æùÁÑ∂Ê≤°ÊúâËß£ÂÜ≥ËØ•ÈîôËØØÂêéÔºåÂâçÂæÄÂÆòÁΩëÊü•ÁúãÔºåÂèëÁé∞ÂÆòÊñπÁªô‰∫Ü<a class="link" href="https://github.com/nacos-group/nacos-examples/tree/master/nacos-spring-cloud-example/nacos-spring-cloud-config-example"  target="_blank" rel="noopener"
    >‰æãÂ≠ê</a></p>
<p>‰ΩÜÊòØÁâàÊú¨Ë∑üÊàë‰ª¨ÁöÑÊúâÂå∫Âà´</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-netflix-ribbon<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-openfeign<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;exclusions&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;exclusion&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/exclusion&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/exclusions&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;optional&gt;</span>true<span class="nt">&lt;/optional&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Ê≥®ÊÑèÔºåÊàëÊàë‰ª¨Âú®<code>Áà∂pom</code>ÈáåÈÖçÁΩÆ‰∫Ü<code>nacos-client</code>ÁöÑÁâàÊú¨</p>
<p>Êàë‰ΩøÁî®ÂÆòÊñπ‰æãÂ≠êÁöÑÁâàÊú¨<code>1.1.0</code>Âíå<code>1.2.0</code>Êä•ÈîôÂ¶Ç‰∏ã</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">java.lang.NoClassDefFoundError: com/alibaba/nacos/client/logging/NacosLogging
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏äÁΩëÊü•ËØ¢ËµÑÊñôÂèëÁé∞Â∫îËØ•ÊòØÁâàÊú¨‰∏çÂåπÈÖçÔºåÂêéÊâìÂºÄ‰æùËµñÂàÜÊûêÔºåÂèëÁé∞Êúâ‰∏ÄÂ†Ü<code>‰æùËµñÈÉΩ‰∏çÂåπÈÖç</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240405223449119.png"
	
	
	
	loading="lazy"
	
		alt="image-20240405223449119"
	
	
></p>
<blockquote>
<p><code>nacos-client</code>ÁâàÊú¨Êîπ‰∏∫<code>1.4.4</code>Âêé‰ª•‰∏äÊä•ÈîôËß£ÂÜ≥Ôºå‰ΩÜÊòØ‰æùÁÑ∂Êó†Ê≥ïÂÆûÁé∞<code>RestTemplate</code>Ë∞ÉÁî®ÊúçÂä°</p>
<p>ÈóÆÈ¢ò‰πüÊòØÂá∫Âú®‰æùËµñ‰∏ä</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-loadbalancer<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--        &lt;dependency&gt;--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--            &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;--&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c">&lt;!--        &lt;/dependency&gt;--&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Â∞Ü<code>spring-cloud-starter-netflix-ribbon</code>Êîπ‰∏∫<code>spring-cloud-loadbalancer</code>ÔºåËøôÈáåÊó†ÈúÄÂÜôÁâàÊú¨Âè∑</p>
<p>ÂêØÂä®ÂêéËß£ÂÜ≥ÈóÆÈ¢ò</p>
</blockquote>
<h4 id="‰æùËµñ">‰æùËµñ
</h4><blockquote>
<p>ÈáçÊñ∞Áªô‰∏ÄÈÅç<code>pom</code>‰æùËµñÔºåËøôÈáåÊàë‰ΩøÁî®ÁöÑÁâàÊú¨Âπ∂‰∏çÈúÄË¶Å‰ΩøÁî®<code>bootstrap.properties</code>Êñá‰ª∂Êù•ÈÖçÁΩÆÔºå<code>application.properties</code>Ë∂≥Áü£
ÁΩë‰∏äÊúâËØ¥ÈúÄË¶ÅÂØºÂÖ•<code>spring-cloud-starter-bootstrap</code>‰æùËµñÔºåÊàë‰ª¨ËøôÈáåÂπ∂‰∏çÈúÄË¶Å
<strong>cloud-demo/pom.xml</strong></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>cloud-demo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>cloud-demo<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>cloud-demo<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;packaging&gt;</span>pom<span class="nt">&lt;/packaging&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modules&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;module&gt;</span>order<span class="nt">&lt;/module&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;module&gt;</span>user<span class="nt">&lt;/module&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/modules&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;properties&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;java.version&gt;</span>17<span class="nt">&lt;/java.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.build.sourceEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="nt">&lt;/project.reporting.outputEncoding&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-boot.version&gt;</span>3.0.2<span class="nt">&lt;/spring-boot.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud-alibaba.version&gt;</span>2022.0.0.0-RC2<span class="nt">&lt;/spring-cloud-alibaba.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;spring-cloud.version&gt;</span>2022.0.0-RC2<span class="nt">&lt;/spring-cloud.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;mysql.version&gt;</span>8.3.0<span class="nt">&lt;/mysql.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;lombok.version&gt;</span>1.18.24<span class="nt">&lt;/lombok.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;mybatis-plus.version&gt;</span>3.5.5<span class="nt">&lt;/mybatis-plus.version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;nacos-client.version&gt;</span>1.4.4<span class="nt">&lt;/nacos-client.version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/properties&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencyManagement&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${nacos-client.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${mybatis-plus.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${mysql.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${lombok.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-boot-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-boot.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-cloud-alibaba-dependencies<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-cloud-alibaba.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencyManagement&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/project&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>order/pom.xml</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span class="line"><span class="cl">         <span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;parent&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>cloud-demo<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/parent&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;artifactId&gt;</span>order<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>order<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;description&gt;</span>order<span class="nt">&lt;/description&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-loadbalancer<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;exclusions&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;exclusion&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/exclusion&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/exclusions&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;build&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;plugins&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>3.8.1<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;source&gt;</span>17<span class="nt">&lt;/source&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;target&gt;</span>17<span class="nt">&lt;/target&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;encoding&gt;</span>UTF-8<span class="nt">&lt;/encoding&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/configuration&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/plugin&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;plugin&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;version&gt;</span>${spring-boot.version}<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;configuration&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;mainClass&gt;</span>com.example.order.OrderApplication<span class="nt">&lt;/mainClass&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;skip&gt;</span>true<span class="nt">&lt;/skip&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/configuration&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;executions&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;execution&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;id&gt;</span>repackage<span class="nt">&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;goals&gt;</span>
</span></span><span class="line"><span class="cl">                            <span class="nt">&lt;goal&gt;</span>repackage<span class="nt">&lt;/goal&gt;</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&lt;/goals&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;/execution&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/executions&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/plugin&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/plugins&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/build&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;repositories&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;repository&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;id&gt;</span>netflix-candidates<span class="nt">&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;name&gt;</span>Netflix Candidates<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;url&gt;</span>https://artifactory-oss.prod.netflix.net/artifactory/maven-oss-candidates<span class="nt">&lt;/url&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;snapshots&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;enabled&gt;</span>false<span class="nt">&lt;/enabled&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/snapshots&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/repository&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;repository&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;id&gt;</span>spring-milestones<span class="nt">&lt;/id&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;name&gt;</span>Spring Milestones<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;url&gt;</span>https://repo.spring.io/milestone<span class="nt">&lt;/url&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;snapshots&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;enabled&gt;</span>false<span class="nt">&lt;/enabled&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/snapshots&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/repository&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/repositories&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/project&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>user</code>‰æùËµñ‰πüÊòØ‰∏ÄÊ†∑
<strong>application.properties</strong></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Â∫îÁî®ÊúçÂä° WEB ËÆøÈóÆÁ´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8090</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊúçÂä°Âêç</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.application.name</span><span class="o">=</span><span class="s">order-service</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÈ©±Âä®Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.driver-class-name</span><span class="o">=</span><span class="s">com.mysql.cj.jdbc.Driver</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìËøûÊé•Âú∞ÂùÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.url</span><span class="o">=</span><span class="s">jdbc:mysql://localhost:3306/cloud-order?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÁî®Êà∑Âêç&amp;ÂØÜÁ†ÅÔºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.username</span><span class="o">=</span><span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.password</span><span class="o">=</span><span class="s">123456</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÊ∫êÂêçÁß∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.name</span><span class="o">=</span><span class="s">defaultDataSource</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÊâìÂç∞sqlÊó•Âøó</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.configuration.log-impl</span><span class="o">=</span><span class="s">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</span></span><span class="line"><span class="cl"><span class="c1"># xmlÊñá‰ª∂Ë∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.mapper-locations</span><span class="o">=</span><span class="s">classpath:/mapper/**/*.xml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÂåÖË∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.type-aliases-package</span><span class="o">=</span><span class="s">com.example.order.domain</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.import-check.enabled</span><span class="o">=</span><span class="s">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><a class="link" href="https://gitee.com/tongstyle/cloud-demo"  target="_blank" rel="noopener"
    >È°πÁõÆGiteeÂú∞ÂùÄ</a>ÔºåÂàáÊç¢Âà∞<code>nacos</code>ÂàÜÊîØÂç≥ÂèØ
ÊµãËØïÂèëÁé∞Ôºå<code>Ë¥üËΩΩÂùáË°°</code>‰πüÂèØ‰ª•‰ΩøÁî®</p>
<h4 id="ÊúçÂä°ÂàÜÁ∫ßÂ≠òÂÇ®Ê®°Âûã">ÊúçÂä°ÂàÜÁ∫ßÂ≠òÂÇ®Ê®°Âûã
</h4><h5 id="ÂÖ•Èó®">ÂÖ•Èó®
</h5><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240405225820668.png"
	
	
	
	loading="lazy"
	
		alt="image-20240405225820668"
	
	
></p>
<blockquote>
<p>ÊØè‰∏™ÊúçÂä°ÂêØÂä®Â§ö‰∏™ÂÆû‰æãÔºåÂ∞ÜËøô‰∫õÂÆû‰æãÂàíÂàÜÂà∞‰∏çÂêåÁöÑÈõÜÁæ§</p>
<p>ÊúçÂä°Ë∞ÉÁî®Â∞ΩÂèØËÉΩÈÄâÊã©Êú¨Âú∞ÈõÜÁæ§ÁöÑÊúçÂä°ÔºåË∑®ÈõÜÁæ§Ë∞ÉÁî®Âª∂ËøüËæÉÈ´ò</p>
<p>Êú¨Âú∞ÈõÜÁæ§‰∏çÂèØËÆøÈóÆÊó∂ÔºåÂÜçÂéªËÆøÈóÆÂÖ∂ÂÆÉÈõÜÁæ§
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240405230059593.png"
	
	
	
	loading="lazy"
	
		alt="image-20240405230059593"
	
	
>
ÁÇπÂáªNacosÊúçÂä° <code>&quot;ËØ¶ÊÉÖ&quot;</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406062803062.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406062803062"
	
	
>
<code>ÈõÜÁæ§</code>ÊòØ<code>default</code>ÔºåÂç≥Ê≤°ÊúâÈõÜÁæ§
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406062856800.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406062856800"
	
	
>
ÈÖçÁΩÆÈõÜÁæ§Â±ûÊÄß</p>
</blockquote>
<ol>
<li>
<p>‰øÆÊîπ<code>application.properties</code>ÔºåÊ∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆÈõÜÁæ§ÂêçÁß∞Ôºå‰πüÂ∞±ÊòØÊú∫Êàø‰ΩçÁΩÆÔºå‰æãÂ¶ÇJS(Ê±üËãè)</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.cluster-name</span><span class="o">=</span><span class="s">JS</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Âú®NacosÊéßÂà∂Âè∞ÁúãÂà∞ÈõÜÁæ§ÁöÑÂèòÂåñ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406065730248.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406065730248"
	
	
>
ÂÜçËµ∑‰∏Ä‰∏™<code>User</code>ÊúçÂä°ÂÆû‰æãÔºåÁé∞Âú®ÊòØ<code>3</code>‰∏™<code>User</code>ÊúçÂä°ÂÆû‰æã‰∫Ü
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406065908160.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406065908160"
	
	
></p>
</li>
</ol>
<blockquote>
<p>Â∞Ü<code>UserApplication1</code>Âíå<code>UserApplication2</code>ËÆæÁΩÆÂà∞<code>JS</code>Ê±üËãèÈõÜÁæ§ÔºåÂ∞Ü<code>UserApplication3</code>ËÆæÁΩÆÂà∞<code>HN</code>ÊπñÂçóÈõÜÁæ§</p>
<p>ÂêØÂä®<code>UserApplication1</code>Âíå<code>UserApplication2</code>ÔºåÁÑ∂ÂêéÂ∞ÜÈõÜÁæ§Êîπ‰∏∫<code>HN</code>ÔºåÂêØÂä®<code>UserApplication3</code>Âç≥ÂèØ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406070456323.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406070456323"
	
	
>
<strong>ÊÄªÁªì</strong>
NacosÊúçÂä°ÂàÜÁ∫ßÂ≠òÂÇ®Ê®°Âûã</p>
</blockquote>
<ol>
<li>‰∏ÄÁ∫ßÊòØÊúçÂä°Ôºå‰æãÂ¶Çuserservice</li>
<li>‰∫åÁ∫ßÊòØÈõÜÁæ§Ôºå‰æãÂ¶ÇÊù≠Â∑ûÊàñ‰∏äÊµ∑</li>
<li>‰∏âÁ∫ßÊòØÂÆû‰æãÔºå‰æãÂ¶ÇÊù≠Â∑ûÊú∫ÊàøÁöÑÊüêÂè∞ÈÉ®ÁΩ≤‰∫ÜuserserviceÁöÑÊúçÂä°Âô®</li>
</ol>
<h5 id="ÊúçÂä°ÈõÜÁæ§Â±ûÊÄß">ÊúçÂä°ÈõÜÁæ§Â±ûÊÄß
</h5><blockquote>
<p>ËøôÊ†∑ÈÖçÁΩÆËøò‰∏çÁÆóÂÆåÔºåÊàë‰ª¨ÈúÄË¶ÅËÆ©<code>Order</code>ÊúçÂä°Ë∞ÉÁî®<code>User</code>ÊúçÂä°Êó∂Ôºå‰ºòÂÖàÈÄâÊã©Êú¨Âú∞ÈõÜÁæ§
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406071112676.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406071112676"
	
	
>
ËøôÈáåÂπ∂Ê≤°Êúâ‰ºòÂÖà‰ΩøÁî®<code>JS</code>ÁöÑ<code>User</code>ÊúçÂä°Ôºå‰æùÁÑ∂ÈááÁî®ÁöÑÊòØ<code>ËΩÆËØ¢</code>ÊñπÊ°à</p>
<p>ÊúçÂä°Âú®ÈÄâÊã©ÂÆû‰æãÊó∂ÔºåÊòØÁî±<code>Ë¥üËΩΩÂùáË°°</code>ÂÜ≥ÂÆöÁöÑÔºåËøôÈáåÂπ∂Ê≤°ÊúâÈÖçÁΩÆÔºåÊâÄ‰ª•ÈááÁî®ÁöÑÊòØÈªòËÆ§<code>ËΩÆËØ¢</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># Ë¥üËΩΩÂùáË°°ËßÑÂàô</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">userservice</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">ribbon</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">NFLoadBalancerRuleClassName</span><span class="p">:</span><span class="w"> </span><span class="l">com.alibaba.cloud.nacos.ribbon.NacosRule</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÂÆûÁé∞‰ª•‰∏äÈÖçÁΩÆ‰πãÂêéÂç≥ÂèØÂÆåÊàêÂÆûÁé∞‰ºòÂÖàËÆøÈóÆÊú¨Âú∞ÈõÜÁæ§ÁöÑÊúçÂä°</p>
<p>ÂÆûÊµã‰πãÂêéÂèëÁé∞Âè™ËÉΩÂú®ËæÉ‰ΩéÁâàÊú¨ÁöÑNacos‰∏≠ÁîüÊïàÔºåÈ´òÁâàÊú¨ÁöÑNacosÂ∑≤ÁªèÂèñÊ∂à‰∫ÜÂØπRibbonÁöÑÊîØÊåÅ</p>
<p>Ëß£ÂÜ≥ÂäûÊ≥ïÊü•Áúã<a class="link" href="https://blog.csdn.net/qq_38050728/article/details/121924621"  target="_blank" rel="noopener"
    >ÂçöÂÆ¢</a>,ÂÆûÊµãÂèØË°å</p>
<p>‰ΩÜÊòØÈöèÁùÄSpring Cloud GatewayÊàñËÄÖÂÖ∂‰ªñÊõ¥ÂÖàËøõÁöÑAPI GatewayÁöÑÂπøÊ≥õÂ∫îÁî®Ôºå‰ª•ÂèäÊúçÂä°ÁΩëÊ†ºÔºàService MeshÔºâÊû∂ÊûÑÁöÑÂèëÂ±ï</p>
<p>‰æãÂ¶ÇÈááÁî®IstioÊàñÈòøÈáå‰∫ëÁöÑASMÔºàApplication Service MeshÔºâÔºåËøôÁßçË∑®ÂèØÁî®Âå∫ÊàñË∑®ÈõÜÁæ§ÁöÑÊµÅÈáèË∞ÉÂ∫¶ÈÄöÂ∏∏‰ºö‰∫§Áî±ÊúçÂä°ÁΩëÊ†ºÂ±ÇÈù¢Â§ÑÁêÜÔºåËÄåÈùû‰ªÖ‰ªÖ‰æùËµñÂÆ¢Êà∑Á´ØSDKÂÜÖÁΩÆÁöÑË¥üËΩΩÂùáË°°Êú∫Âà∂</p>
<p>ÈÇ£‰πàÂèØËÉΩÈúÄË¶ÅËΩ¨ÂêëÊúçÂä°ÁΩëÊ†ºÊàñSpring Cloud GatewayÁ∫ßÂà´ÁöÑË∑ØÁî±ËßÑÂàôÂÆö‰πâÔºåÊâÄ‰ª•Ë¥üËΩΩÂùáË°°Â∫îËØ•Áî±ÁΩëÂÖ≥ÊúçÂä°Êù•ÊâøÊãÖÔºåËÄåÈùûÊ∂àË¥πÊúçÂä°Ëá™Ë∫´</p>
</blockquote>
<h4 id="ÊùÉÈáçËÆæÁΩÆ">ÊùÉÈáçËÆæÁΩÆ
</h4><p><strong>ÂÆûÈôÖÈÉ®ÁΩ≤‰∏≠‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÂú∫ÊôØ:</strong>
ÊúçÂä°Âô®ËÆæÂ§áÊÄßËÉΩÊúâÂ∑ÆÂºÇÔºåÈÉ®ÂàÜÂÆû‰æãÊâÄÂú®Êú∫Âô®ÊÄßËÉΩËæÉÂ•ΩÔºåÂè¶‰∏Ä‰∫õËæÉÂ∑ÆÔºå Êàë‰ª¨Â∏åÊúõÊÄßËÉΩÂ•ΩÁöÑÊú∫Âô®ÊâøÊãÖÊõ¥Â§öÁöÑÁî®Êà∑ËØ∑Ê±Ç
NacosÊèê‰æõ‰∫ÜÊùÉÈáçÈÖçÁΩÆÊù•ÊéßÂà∂ËÆøÈóÆÈ¢ëÁéá,ÊùÉÈáçË∂äÂ§ßÂàôËÆøÈóÆÈ¢ëÁéáË∂äÈ´ò
<strong>Ê≠•È™§</strong></p>
<ol>
<li>Âú®NacosÊéßÂà∂Âè∞ÂèØ‰ª•ËÆæÁΩÆÂÆû‰æãÁöÑÊùÉÈáçÂÄºÔºåÈ¶ñÂÖàÈÄâ‰∏≠ÂÆû‰æãÂêéÈù¢ÁöÑÁºñËæëÊåâÈíÆ</li>
<li>Â∞ÜÊùÉÈáçËÆæÁΩÆ‰∏∫0.1,ÊµãËØïÂèØ‰ª•ÂèëÁé∞8081Ë¢´ËÆøÈóÆÂà∞ÁöÑÈ¢ëÁéáÂ§ßÂ§ßÈôç‰ΩéÔºàÊùÉÈáçÂÄº‰Ωç‰∫é0~1‰πãÈó¥Ôºâ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406090249907.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406090249907"
	
	
></li>
</ol>
<blockquote>
<p>ÈÇ£Ëøô‰∏™Êó∂ÂÄôÁêÜËÆ∫‰∏äÔºå<code>8081</code>ÁöÑËÆøÈóÆÊ¨°Êï∞Â∫îËØ•ÊòØ<code>8080</code>ÁöÑ<code>1/10</code>ÔºåÊµãËØïÂèëÁé∞Á°ÆÂÆûÂ¶ÇÊ≠§ÔºåÊùÉÈáçÈÖçÁΩÆÂ∑≤ÁªèÁîüÊïà</p>
<p>ÊùÉÈáçËÆæÁΩÆ‰∏∫<code>0</code>ÔºåÂàôËØ•ÊúçÂä°‰∏ç‰ºöË¢´ËÆøÈóÆÂà∞</p>
<p>ËøôÁßçÁâπÊÄßÂèØ‰ª•Áî®‰ª•ÊúçÂä°ÁöÑ<code>ÁâàÊú¨ÂçáÁ∫ß</code></p>
<p>Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊòØ‰∏ç‰ºöÈáçÂêØÊüê‰∏™ÊúçÂä°Êù•ÂÆûÁé∞ÁâàÊú¨ÂçáÁ∫ßÁöÑÔºåÊ≠§Êó∂Áî®Êà∑ËøòÂú®ËÆøÈóÆÂë¢ÔºåÂ¶Ç‰ΩïÂú®Áî®Êà∑Êó†ÊÑüÁü•ÁöÑÂâçÊèê‰∏ãÂÆûÁé∞ÁâàÊú¨ÂçáÁ∫ßÂë¢Ôºü</p>
<p>Âú®ÊúçÂä°ÂêØÂä®Â§ö‰∏™ÂÆû‰æãÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶Ç<code>8081</code>„ÄÅ<code>8082</code>„ÄÅ<code>8083</code>
ÂèØ‰ª•ÂÖàÂ∞Ü<code>8081</code>ÁöÑÂÆû‰æãÊùÉÈáçËÆæÁΩÆ‰∏∫<code>0</code>ÔºåÊ∏êÊ∏êÁöÑ<code>8081</code>Â∞±‰∏ç‰ºöÊâøÊãÖÁî®Êà∑ËØ∑Ê±Ç‰∫ÜÔºåÊ≠§Êó∂Áî®Êà∑ÊòØÊó†ÊÑüÁü•ÁöÑ
Ëøô‰∏™Êó∂ÂÄôÂØπ<code>8081</code>ÂÅúÊú∫‰πãÂêéËøõË°åÂçáÁ∫ßÔºåÁÑ∂ÂêéÈáçÂêØÔºåÊùÉÈáçÂÖàËÆæÁΩÆÂ∞è‰∏ÄÁÇπÔºåÂ¶ÇÊûúÁî®Êà∑ËØ∑Ê±ÇÊ≤°ÊúâbugÔºåÂ∞±ÂèØ‰ª•Â¢ûÂ§ßÊùÉÈáçÂÆûÁé∞ÂçáÁ∫ß‰∫Ü</p>
</blockquote>
<h4 id="ÁéØÂ¢ÉÈöîÁ¶ª">ÁéØÂ¢ÉÈöîÁ¶ª
</h4><blockquote>
<p>Nacos‰∏≠ÊúçÂä°Â≠òÂÇ®ÂíåÊï∞ÊçÆÂ≠òÂÇ®ÁöÑÊúÄÂ§ñÂ±ÇÈÉΩÊòØ‰∏Ä‰∏™Âêç‰∏∫<code>ÂëΩÂêçÁ©∫Èó¥(namespace)</code>ÁöÑ‰∏úË•øÔºåÁî®Êù•ÂÅöÊúÄÂ§ñÂ±ÇÈöîÁ¶ª</p>
<p>Namespace &gt; Group &gt; Service(ÊúçÂä°) &gt; ÈõÜÁæ§ &gt; ÂÆû‰æã</p>
<p><code>Group </code>Áî®‰ΩúÂàÜÁªÑÔºåÂèØ‰ª•Â∞ÜÁõ∏ÂÖ≥Â∫¶ËæÉÈ´òÁöÑ‰∏öÂä°ÂàíÂàÜ‰∏∫‰∏Ä‰∏™ÁªÑ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406091659048.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406091659048"
	
	
>
Ê≠§Êó∂Â∞±ÂèØ‰ª•ÁúãÂà∞<code>dev</code>ÂëΩÂêçÁ©∫Èó¥‰∫ÜÔºå‰ΩÜÊòØÈáåÈù¢Ê≤°Êúâ‰ªª‰ΩïÊúçÂä°Âïä</p>
<p>ÈúÄË¶ÅÂéª‰ª£Á†ÅÂ±ÇÈù¢Ê∑ªÂä†<code>ÂëΩÂêçÁ©∫Èó¥</code>ÈÖçÁΩÆ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406091755109.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406091755109"
	
	
></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># ÂëΩÂêçÁ©∫Èó¥id</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.namespace</span><span class="o">=</span><span class="s">d2455f6d-ed00-41ba-9915-09021bc0df6c</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406091941001.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406091941001"
	
	
></p>
<blockquote>
<p>ÈáçÂêØ<code>order</code>ÊúçÂä°</p>
<p>ÂèëÁé∞Âú®<code>dev</code>‰∏ãÂèØ‰ª•ÁúãÂà∞<code>order</code>ÊúçÂä°ÔºåËÄå<code>user</code>ÊúçÂä°‰ªçÁÑ∂ËøòÂú®<code>public</code>‰∏ã
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406092054361.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406092054361"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406092129960.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406092129960"
	
	
>
ÊµãËØï‰∏Ä‰∏ãËÉΩÂê¶Ë∞ÉÁî®</p>
<p><strong>‰∏çË°å</strong>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406092150037.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406092150037"
	
	
>
Êä•ÈîôÂ¶Ç‰∏ã</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">java.lang.IllegalStateException: No instances available for userservice
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Ê≤°ÊúâÊâæÂà∞ÂèØÁî®ÁöÑÂÆû‰æãÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Â§ÑÂú®‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏ã</p>
</blockquote>
<h4 id="nacosÊ≥®ÂÜå‰∏≠ÂøÉÂéüÁêÜ">NacosÊ≥®ÂÜå‰∏≠ÂøÉÂéüÁêÜ
</h4><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/QQ%E6%88%AA%E5%9B%BE20240406132746.png"
	
	
	
	loading="lazy"
	
		alt="QQÊà™Âõæ20240406132746"
	
	
></p>
<blockquote>
<p>ÊúçÂä°ÁöÑ<code>Ê∂àË¥πËÄÖ</code>Âπ∂‰∏çÊòØÊØèÊ¨°ÈÉΩÂéªÊãâÂéª<code>Êèê‰æõËÄÖ</code>ÁöÑ‰ø°ÊÅØÔºåËÄåÊòØ‰ºöÂ∞ÜÊãâÂéªÁöÑÊúçÂä°ÂàóË°®ËøõË°åÁºìÂ≠ò</p>
<p>ËÄå‰∏ÄÁõ¥‰∏çÊãâÂèñÊúçÂä°‰πü‰∏çË°åÔºåÂõ†‰∏∫ÊúçÂä°Êèê‰æõËÄÖÁöÑ‰ø°ÊÅØÂèØËÉΩÂèòÂåñÔºåÊâÄ‰ª•ÈúÄË¶ÅÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥ÊØîÂ¶Ç30sÊãâÂèñ‰∏ÄÊ¨°</p>
<p>‰ΩÜÊòØ<code>Nacos</code>Âíå<code>Eureka</code>ËøòÊúâ‰∏Ä‰∫õÂ∑ÆÂà´Âú®ÂÅ•Â∫∑Ê£ÄÊµãÊñπÈù¢</p>
<p><code>Nacos</code>‰ºöÂ∞ÜÊâÄÊúâÁöÑÊúçÂä°Êèê‰æõËÄÖÂàÜ‰∏∫<code>‰∏¥Êó∂ÂÆû‰æã</code>Âíå<code>Èùû‰∏¥Êó∂ÂÆû‰æã</code>ÔºåÊâÄÊúâÂÆû‰æãÈªòËÆ§ÈÉΩÊòØ<code>‰∏¥Êó∂ÂÆû‰æã</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406133353590.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406133353590"
	
	
>
‰∏¥Êó∂ÂÆû‰æãÂú®<code>Nacos</code>‰∏≠ÁöÑÂÅ•Â∫∑Ê£ÄÊµãÊòØÂøÉË∑≥Ê£ÄÊµãÔºå<code>‰∏¥Êó∂ÂÆû‰æã</code>ÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥Âêë<code>Nacos</code>ÂèëÈÄÅÂøÉË∑≥Ôºå‰ΩÜÈ¢ëÁéá‰ºöÊØî<code>Eureka</code>ÁöÑÂø´‰∏Ä‰∫õ</p>
<p>‰∏ÄÊó¶ÂøÉË∑≥Ê£ÄÊµãÂá∫Áé∞ÂºÇÂ∏∏„ÄÅ‰∏çË∑≥‰∫ÜÔºå<code>Nacos</code>Â∞±‰ºöÂ∞ÜÂÖ∂Âú®ÊúçÂä°ÂàóË°®‰∏≠Áõ¥Êé•<code>ÂâîÈô§</code></p>
<p><code>Èùû‰∏¥Êó∂ÂÆû‰æã</code>‰∏çÈúÄË¶ÅÂÅöÂøÉË∑≥Ê£ÄÊµãÔºåËÄåÊòØ<code>Nacos</code>‰∏ªÂä®ÂèëËØ∑Ê±ÇËØ¢ÈóÆ<code>ÂÆû‰æã</code>ÊòØÂê¶Ê≠£Â∏∏</p>
<p><code>Nacos</code>‰∏ç‰ºöÂ∞Ü<code>Èùû‰∏¥Êó∂ÂÆû‰æã</code>Âú®ÊúçÂä°ÂàóË°®‰∏≠<code>ÂâîÈô§</code>ÔºåËÄåÊòØ‰ºöÁ≠âÂæÖÂÖ∂ÊÅ¢Â§çÂÅ•Â∫∑</p>
<p><code>Nacos</code>Âíå<code>Eureka</code>Âú®Ê∂àË¥πËÄÖÊñπÈù¢‰πüÊúâ‰∏Ä‰∫õÂå∫Âà´Ôºå<code>Eureka</code>‰ºöÊØèÈöî30sÊãâÂèñ‰∏ÄÊ¨°ÊúçÂä°</p>
<p>‰ΩÜÂ¶ÇÊûúÂú®<code>30s</code>ÂÜÖÔºåÊúâÊèê‰æõËÄÖÁöÑÂÆû‰æãÂºÇÂ∏∏ÔºåÊ∂àË¥πËÄÖÊòØ‰∏çÁü•ÈÅìÁöÑÂëÄÔºåÊ≠§Êó∂Â∞±‰ºöÂá∫ÈóÆÈ¢ò</p>
<p><code>Nacos</code>‰ºö‰∏ªÂä®Â∞Ü<code>Êèê‰æõËÄÖ</code>ÂèòÊõ¥ÁöÑÊ∂àÊÅØ<code>Êé®</code>ÈÄÅÁªô<code>Ê∂àË¥πËÄÖ</code></p>
<p><code>Eureka</code>‰∏ªË¶ÅÊòØÈááÁî®<code>pull</code>ÔºåËÄå<code>Nacos</code>ÊòØ<code>pull</code>Âíå<code>push</code>ÁªìÂêà</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶ÊòØ‰∏¥Êó∂ÂÆû‰æã</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.ephemeral</span><span class="o">=</span><span class="s">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406134615899.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406134615899"
	
	
></p>
<blockquote>
<p>ÂÅúÊ≠¢ÊúçÂä°
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406134705641.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406134705641"
	
	
>
NacosÊîØÊåÅÊúçÂä°Á´Ø‰∏ªÂä®Ê£ÄÊµãÊèê‰æõËÄÖÁä∂ÊÄÅ:‰∏¥Êó∂ÂÆû‰æãÈááÁî®ÂøÉË∑≥Ê®°ÂºèÔºåÈùû‰∏¥Êó∂ÂÆû‰æãÈááÁî®‰∏ªÂä®Ê£ÄÊµãÊ®°Âºè</p>
</blockquote>
<ol>
<li>‰∏¥Êó∂ÂÆû‰æãÂøÉË∑≥‰∏çÊ≠£Â∏∏‰ºöË¢´ÂâîÈô§ÔºåÈùû‰∏¥Êó∂ÂÆû‰æãÂàô‰∏ç‰ºöË¢´ÂâîÈô§</li>
<li>NacosÊîØÊåÅÊúçÂä°ÂàóË°®ÂèòÊõ¥ÁöÑÊ∂àÊÅØÊé®ÈÄÅÊ®°ÂºèÔºåÊúçÂä°ÂàóË°®Êõ¥Êñ∞Êõ¥ÂèäÊó∂</li>
<li>NacosÈõÜÁæ§ÈªòËÆ§ÈááÁî®APÊñπÂºèÔºåÂΩìÈõÜÁæ§‰∏≠Â≠òÂú®Èùû‰∏¥Êó∂ÂÆû‰æãÊó∂ÔºåÈááÁî®CPÊ®°Âºè; EurekaÈááÁî®APÊñπÂºè
Nacos‰∏éeurekaÁöÑÂÖ±ÂêåÁÇπ
ÈÉΩÊîØÊåÅÊúçÂä°Ê≥®ÂÜåÂíåÊúçÂä°ÊãâÂèñ
ÈÉΩÊîØÊåÅÊúçÂä°Êèê‰æõËÄÖÂøÉË∑≥ÊñπÂºèÂÅöÂÅ•Â∫∑Ê£ÄÊµã</li>
</ol>
<h4 id="ÈÖçÁΩÆÁÆ°ÁêÜ">ÈÖçÁΩÆÁÆ°ÁêÜ
</h4><blockquote>
<p>Â∞Ü‰∏Ä‰∫õÈÖçÁΩÆ‰ø°ÊÅØÊîæÂú®<code>Nacos</code>‰∏äÔºåÂ¶Ç<code>Êï∞ÊçÆÂ∫ì</code>„ÄÅ<code>MyBatis</code>ÔºåËÄå‰∏îËøô‰∫õÈÖçÁΩÆÂèØ‰ª•<code>Âä®ÊÄÅÂà∑Êñ∞</code>ÔºåÊó†ÈúÄÈáçÂêØÈ°πÁõÆ</p>
<p>‰∏ÄËà¨ÂÜôÁöÑÊòØÂºÄÂÖ≥Á±ªÂûãÁöÑÈÖçÁΩÆÔºåÂ¶ÇËµãÂÄº<code>true</code>Â∞±ÂºÄÂêØÊüê‰∏™Ê¥ªÂä®
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406153222831.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406153222831"
	
	
>
Âú® Nacos Spring Cloud ‰∏≠Ôºå<code>dataId</code> ÁöÑÂÆåÊï¥Ê†ºÂºèÂ¶Ç‰∏ãÔºö</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">${prefix}-${spring.profiles.active}.${file-extension}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>prefix</code> ÈªòËÆ§‰∏∫ <code>spring.application.name</code> ÁöÑÂÄºÔºå‰πüÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÈ°π <code>spring.cloud.nacos.config.prefix</code>Êù•ÈÖçÁΩÆ„ÄÇ</li>
<li><code>spring.profiles.active</code> Âç≥‰∏∫ÂΩìÂâçÁéØÂ¢ÉÂØπÂ∫îÁöÑ profileÔºåËØ¶ÊÉÖÂèØ‰ª•ÂèÇËÄÉ <a class="link" href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html#boot-features-profiles"  target="_blank" rel="noopener"
    >Spring BootÊñáÊ°£</a>„ÄÇ <strong>Ê≥®ÊÑèÔºöÂΩì <code>spring.profiles.active</code> ‰∏∫Á©∫Êó∂ÔºåÂØπÂ∫îÁöÑËøûÊé•Á¨¶ <code>-</code> ‰πüÂ∞Ü‰∏çÂ≠òÂú®ÔºådataId ÁöÑÊãºÊé•Ê†ºÂºèÂèòÊàê <code>${prefix}.${file-extension}</code></strong></li>
<li><code>file-exetension</code> ‰∏∫ÈÖçÁΩÆÂÜÖÂÆπÁöÑÊï∞ÊçÆÊ†ºÂºèÔºåÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÈ°π <code>spring.cloud.nacos.config.file-extension</code> Êù•ÈÖçÁΩÆ„ÄÇÁõÆÂâçÂè™ÊîØÊåÅ <code>properties</code> Âíå <code>yaml</code> Á±ªÂûã„ÄÇ</li>
</ul>
<blockquote>
<p><code>Nacos</code>ÈÖçÁΩÆÁÆ°ÁêÜÁöÑ‰æùËµñÊàë‰ª¨Â∑≤ÁªèÂºïÂÖ•</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406161144635.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406161144635"
	
	
></p>
<blockquote>
<p>ËøôÈáåÊàëÂ∞±Áõ¥Êé•Êää<code>application.properties</code>‰∏≠ÁöÑ<code>DBÈÖçÁΩÆ</code>Âíå<code>MyBatis</code>ÈÖçÁΩÆÂÜôËøõÊù•‰∫Ü
<strong>order-service-dev.properties</strong></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÈ©±Âä®Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.driver-class-name</span><span class="o">=</span><span class="s">com.mysql.cj.jdbc.Driver</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìËøûÊé•Âú∞ÂùÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.url</span><span class="o">=</span><span class="s">jdbc:mysql://localhost:3306/cloud-order?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÁî®Êà∑Âêç&amp;ÂØÜÁ†ÅÔºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.username</span><span class="o">=</span><span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.password</span><span class="o">=</span><span class="s">123456</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÊ∫êÂêçÁß∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.name</span><span class="o">=</span><span class="s">defaultDataSource</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÊâìÂç∞sqlÊó•Âøó</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.configuration.log-impl</span><span class="o">=</span><span class="s">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</span></span><span class="line"><span class="cl"><span class="c1"># xmlÊñá‰ª∂Ë∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.mapper-locations</span><span class="o">=</span><span class="s">classpath:/mapper/**/*.xml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÂåÖË∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.type-aliases-package</span><span class="o">=</span><span class="s">com.example.order.domain</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>user-service-dev.properties</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÈ©±Âä®Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.driver-class-name</span><span class="o">=</span><span class="s">com.mysql.cj.jdbc.Driver</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìËøûÊé•Âú∞ÂùÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.url</span><span class="o">=</span><span class="s">jdbc:mysql://localhost:3306/cloud-user?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÁî®Êà∑Âêç&amp;ÂØÜÁ†ÅÔºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.username</span><span class="o">=</span><span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.password</span><span class="o">=</span><span class="s">123456</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÊ∫êÂêçÁß∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.name</span><span class="o">=</span><span class="s">defaultDataSource</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÊâìÂç∞sqlÊó•Âøó</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.configuration.log-impl</span><span class="o">=</span><span class="s">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</span></span><span class="line"><span class="cl"><span class="c1"># xmlÊñá‰ª∂Ë∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.mapper-locations</span><span class="o">=</span><span class="s">classpath:/mapper/**/*.xml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÂåÖË∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.type-aliases-package</span><span class="o">=</span><span class="s">com.example.user.domain</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong><code>order/application.properties</code></strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Â∫îÁî®ÊúçÂä° WEB ËÆøÈóÆÁ´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8090</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊúçÂä°Âêç</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.application.name</span><span class="o">=</span><span class="s">order-service</span>
</span></span><span class="line"><span class="cl"><span class="c1"># nacosÊúçÂä°ÂèëÁé∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆÈõÜÁæ§ÂêçÁß∞Ôºå‰πüÂ∞±ÊòØÊú∫Êàø‰ΩçÁΩÆÔºå‰æãÂ¶ÇJS(Ê±üËãè)</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.cluster-name</span><span class="o">=</span><span class="s">JS</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÂëΩÂêçÁ©∫Èó¥id</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.namespace</span><span class="o">=</span><span class="s">d2455f6d-ed00-41ba-9915-09021bc0df6c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶ÊòØ‰∏¥Êó∂ÂÆû‰æã</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.ephemeral</span><span class="o">=</span><span class="s">false</span>
</span></span><span class="line"><span class="cl"><span class="c1"># nacosÊúçÂä°ÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="c1">#spring.cloud.nacos.config.import-check.enabled=false</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.namespace</span><span class="o">=</span><span class="s">d2455f6d-ed00-41ba-9915-09021bc0df6c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dataIdÂâçÁºÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.prefix</span><span class="o">=</span><span class="s">${spring.application.name}</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÁéØÂ¢É (ÂâçÁºÄ-ÁéØÂ¢É.ÂêéÁºÄ Â¶Çuser-dev.properties)</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.profiles.active</span><span class="o">=</span><span class="s">dev</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dataIdÂêéÁºÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.file-extension</span><span class="o">=</span><span class="s">properties</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.config.import</span><span class="o">=</span><span class="s">nacos:${spring.cloud.nacos.config.prefix}-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension}?refresh=true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong><code>user/application.properties</code></strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Â∫îÁî®ÊúçÂä° WEB ËÆøÈóÆÁ´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8080</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊúçÂä°Âêç</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.application.name</span><span class="o">=</span><span class="s">user-service</span>
</span></span><span class="line"><span class="cl"><span class="c1"># nacosÊúçÂä°ÂèëÁé∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆÈõÜÁæ§ÂêçÁß∞Ôºå‰πüÂ∞±ÊòØÊú∫Êàø‰ΩçÁΩÆÔºå‰æãÂ¶ÇJS(Ê±üËãè)</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.cluster-name</span><span class="o">=</span><span class="s">JS</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÂëΩÂêçÁ©∫Èó¥id</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.namespace</span><span class="o">=</span><span class="s">d2455f6d-ed00-41ba-9915-09021bc0df6c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶ÊòØ‰∏¥Êó∂ÂÆû‰æã</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.ephemeral</span><span class="o">=</span><span class="s">false</span>
</span></span><span class="line"><span class="cl"><span class="c1"># nacosÊúçÂä°ÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.namespace</span><span class="o">=</span><span class="s">d2455f6d-ed00-41ba-9915-09021bc0df6c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dataIdÂâçÁºÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.prefix</span><span class="o">=</span><span class="s">${spring.application.name}</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÁéØÂ¢É (ÂâçÁºÄ-ÁéØÂ¢É.ÂêéÁºÄ Â¶Çuser-dev.properties)</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.profiles.active</span><span class="o">=</span><span class="s">dev</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dataIdÂêéÁºÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.file-extension</span><span class="o">=</span><span class="s">properties</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.config.import</span><span class="o">=</span><span class="s">nacos:${spring.cloud.nacos.config.prefix}-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension}?refresh=true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Ê≥®ÊÑè‰πãÂâçÈÖçÁΩÆËøá<code>spring.cloud.nacos.config.import-check.enabled=false</code>ÔºåÈúÄË¶ÅÂà†Êéâ„ÄÇ
ËøòÊúâ<code>spring.cloud.nacos.config.namespace</code>‰∏ÄÂÆöË¶ÅÊåáÂÆöÔºåÂõ†‰∏∫Êàë‰ª¨‰∏çÊòØÈÖçÁΩÆÂú®ÈªòËÆ§ÁöÑ<code>public</code>ÔºåËÄåÊòØËá™Â∑±Êñ∞Âª∫ÁöÑ<code>dev</code>„ÄÇ
<strong>Âê¶ÂàôÂú®ÂêØÂä®È°πÁõÆÊó∂‰ºöÊâæ‰∏çÂà∞<code>DB</code>ÈÖçÁΩÆ‰ø°ÊÅØÊä•Èîô</strong></p>
<p><code>spring.cloud.nacos.discovery.ephemeral=false</code>Ëøô‰∏™‰πüË¶ÅÂä†‰∏äÔºàÂõ†‰∏∫Â∑≤ÁªèÂú®ÂâçÈù¢Ë¢´Ê≥®ÂÜåÊàê<code>Èùû‰∏¥Êó∂ÂÆû‰æã</code>‰∫ÜÔºâ
Âê¶Âàô‰ºöÁàÜÈîô<strong>Current service DEFAULT_GROUP@@order-service is persistent service, can&rsquo;t register ephemeral instance</strong>
ÊÑèÊÄùÊòØ‚ÄúDEFAULT_GROUP@@order-service‚ÄùËøô‰∏™ÊúçÂä°ÊòØ‰∏Ä‰∏™ÊåÅ‰πÖÂåñÊúçÂä°Ôºå‰∏çËÉΩÊ≥®ÂÜå‰∏∫‰∏¥Êó∂ÂÆû‰æã„ÄÇ</p>
</blockquote>
<h4 id="ÈÖçÁΩÆÁÉ≠Êõ¥Êñ∞">ÈÖçÁΩÆÁÉ≠Êõ¥Êñ∞
</h4><p>Nacos‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèòÊõ¥ÂêéÔºåÂæÆÊúçÂä°Êó†ÈúÄÈáçÂêØÂ∞±ÂèØ‰ª•ÊÑüÁü•„ÄÇ‰∏çËøáÈúÄË¶ÅÈÄöËøá‰∏ãÈù¢‰∏§ÁßçÈÖçÁΩÆÂÆûÁé∞:</p>
<ul>
<li>ÊñπÂºè‰∏Ä:Âú®<code>@Value</code>Ê≥®ÂÖ•ÁöÑÂèòÈáèÊâÄÂú®Á±ª‰∏äÊ∑ªÂä†Ê≥®Ëß£<code>@RefreshScope</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RefreshScope</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">RestTemplate</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&#34;${author.name}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&#34;${author.date}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">date</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Value</span><span class="p">(</span><span class="s">&#34;${author.description}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">.</span><span class="na">getForObject</span><span class="p">(</span><span class="s">&#34;http://user-service/user/&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(),</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">orders</span><span class="p">.</span><span class="na">setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;orders&#34;</span><span class="p">,</span><span class="n">orders</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">,</span><span class="n">name</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;date&#34;</span><span class="p">,</span><span class="n">date</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;description&#34;</span><span class="p">,</span><span class="n">description</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">map</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Âú®<code>order-service-dev.properties</code>Êñ∞Â¢ûÈÖçÁΩÆ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">author.name</span><span class="o">=</span><span class="s">‰∏çÊòØËèúÁãóÁà±ÁºñÁ®ã</span>
</span></span><span class="line"><span class="cl"><span class="na">author.date</span><span class="o">=</span><span class="s">2024/04/04/9:13</span>
</span></span><span class="line"><span class="cl"><span class="na">author.description</span><span class="o">=</span><span class="s">ÊöÇÊó†ÊèèËø∞</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÈáçÂêØÈ°πÁõÆÂêéÔºåËÆøÈóÆÈÖçÁΩÆ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406162720924.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406162720924"
	
	
>
‰øÆÊîπÈÖçÁΩÆÂêéÔºå<code>‰∏çÈáçÂêØ</code>È°πÁõÆ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">author.name</span><span class="o">=</span><span class="s">‰∏çÊòØËèúÁãóÁà±ÁºñÁ®ã</span>
</span></span><span class="line"><span class="cl"><span class="na">author.date</span><span class="o">=</span><span class="s">2024/04/05/9:13</span>
</span></span><span class="line"><span class="cl"><span class="na">author.description</span><span class="o">=</span><span class="s">Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406162807556.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406162807556"
	
	
></p>
<ul>
<li>ÊñπÂºè‰∫å:‰ΩøÁî®@ConfigurationPropertiesÊ≥®Ëß£
Êñ∞Âª∫<code>Author.java</code></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Component</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@AllArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@NoArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@ConfigurationProperties</span><span class="p">(</span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;author&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Author</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">date</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RefreshScope</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">RestTemplate</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Author</span><span class="w"> </span><span class="n">author</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">.</span><span class="na">getForObject</span><span class="p">(</span><span class="s">&#34;http://user-service/user/&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(),</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">orders</span><span class="p">.</span><span class="na">setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;orders&#34;</span><span class="p">,</span><span class="n">orders</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;author&#34;</span><span class="p">,</span><span class="n">author</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">map</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>‰æùÁÑ∂ÂèØ‰ª•ÂÆûÁé∞Âä®ÊÄÅÊõ¥Êñ∞ÈÖçÁΩÆ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406163238867.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406163238867"
	
	
></p>
</blockquote>
<h4 id="Â§öÁéØÂ¢ÉÈÖçÁΩÆÂÖ±‰∫´">Â§öÁéØÂ¢ÉÈÖçÁΩÆÂÖ±‰∫´
</h4><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406182210993.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406182210993"
	
	
></p>
<blockquote>
<p><code>nacos</code>/order-service-dev.properties</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÈ©±Âä®Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.driver-class-name</span><span class="o">=</span><span class="s">com.mysql.cj.jdbc.Driver</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìËøûÊé•Âú∞ÂùÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.url</span><span class="o">=</span><span class="s">jdbc:mysql://localhost:3306/cloud-order?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÂ∫ìÁî®Êà∑Âêç&amp;ÂØÜÁ†ÅÔºö</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.username</span><span class="o">=</span><span class="s">root</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.password</span><span class="o">=</span><span class="s">123456</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êï∞ÊçÆÊ∫êÂêçÁß∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.datasource.name</span><span class="o">=</span><span class="s">defaultDataSource</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÊâìÂç∞sqlÊó•Âøó</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.configuration.log-impl</span><span class="o">=</span><span class="s">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</span></span><span class="line"><span class="cl"><span class="c1"># xmlÊñá‰ª∂Ë∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.mapper-locations</span><span class="o">=</span><span class="s">classpath:/mapper/**/*.xml</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆmybatis-plus ÂåÖË∑ØÂæÑ</span>
</span></span><span class="line"><span class="cl"><span class="na">mybatis-plus.type-aliases-package</span><span class="o">=</span><span class="s">com.example.order.domain</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><code>nacos</code>/order-service.properties</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">author.name</span><span class="o">=</span><span class="s">‰∏çÊòØËèúÁãóÁà±ÁºñÁ®ã</span>
</span></span><span class="line"><span class="cl"><span class="na">author.date</span><span class="o">=</span><span class="s">2024/04/05/9:13</span>
</span></span><span class="line"><span class="cl"><span class="na">author.description</span><span class="o">=</span><span class="s">Á¨¨‰∏ÄÊ¨°ÂèëÂ∏É</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÈÖçÁΩÆÂ¶Ç‰∏ã</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># Â∫îÁî®ÊúçÂä° WEB ËÆøÈóÆÁ´ØÂè£</span>
</span></span><span class="line"><span class="cl"><span class="na">server.port</span><span class="o">=</span><span class="s">8090</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊúçÂä°Âêç</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.application.name</span><span class="o">=</span><span class="s">order-service</span>
</span></span><span class="line"><span class="cl"><span class="c1"># nacosÊúçÂä°ÂèëÁé∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÈÖçÁΩÆÈõÜÁæ§ÂêçÁß∞Ôºå‰πüÂ∞±ÊòØÊú∫Êàø‰ΩçÁΩÆÔºå‰æãÂ¶ÇJS(Ê±üËãè)</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.cluster-name</span><span class="o">=</span><span class="s">JS</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÂëΩÂêçÁ©∫Èó¥id</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.namespace</span><span class="o">=</span><span class="s">d2455f6d-ed00-41ba-9915-09021bc0df6c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊòØÂê¶ÊòØ‰∏¥Êó∂ÂÆû‰æã</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.discovery.ephemeral</span><span class="o">=</span><span class="s">false</span>
</span></span><span class="line"><span class="cl"><span class="c1"># nacosÊúçÂä°ÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.server-addr</span><span class="o">=</span><span class="s">localhost:8848</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.namespace</span><span class="o">=</span><span class="s">d2455f6d-ed00-41ba-9915-09021bc0df6c</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dataIdÂâçÁºÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.prefix</span><span class="o">=</span><span class="s">${spring.application.name}</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÁéØÂ¢É (ÂâçÁºÄ-ÁéØÂ¢É.ÂêéÁºÄ Â¶Çuser-dev.properties)</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.profiles.active</span><span class="o">=</span><span class="s">dev</span>
</span></span><span class="line"><span class="cl"><span class="c1"># dataIdÂêéÁºÄ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.nacos.config.file-extension</span><span class="o">=</span><span class="s">properties</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.config.import[0]</span><span class="o">=</span><span class="s">optional:nacos:${spring.cloud.nacos.config.prefix}-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension}?refresh=true</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.config.import[1]</span><span class="o">=</span><span class="s">optional:nacos:${spring.cloud.nacos.config.prefix}.${spring.cloud.nacos.config.file-extension}?refresh=true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Â¶ÇÊûú‰ΩøÁî®ymlÁöÑÊñπÂºè</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">import</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">optional:nacos:order-service.${spring.cloud.nacos.config.file-extension}?refresh=true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">optional:nacos:order-service-dev.${spring.cloud.nacos.config.file-extension}?refresh=true</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÊåÅ‰πÖÂåñ">ÊåÅ‰πÖÂåñ
</h4><blockquote>
<p>Â∞ÜnacosÊåÅ‰πÖÂåñÂà∞Êï∞ÊçÆÂ∫ì</p>
<p>**<code>Ê≥®ÊÑè</code>**ÂÖàÂØºÂá∫‰∏Ä‰ªΩÈÖçÁΩÆÔºåÂæÖ‰ºöÊåÅ‰πÖÂåñÂà∞mysql‰πãÂêéÂØºÂÖ•‰πãÂâçÁöÑÈÖçÁΩÆ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406182620580.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406182620580"
	
	
>
ÊâìÂºÄ<code>SQL</code>ÊâßË°åÁïåÈù¢
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406182656584.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406182656584"
	
	
>
Ê≥®ÊÑè‰∏çË¶ÅÁõ¥Êé•ÊâßË°åÔºåÈúÄË¶Å<code>Êñ∞Âª∫Êï∞ÊçÆÂ∫ì</code>ÔºåËøôÈáåÂëΩ‰ª§‰∏∫<code>nacos_config</code></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">use</span><span class="w"> </span><span class="n">nacos_config</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406183031988.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406183031988"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406184136353.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406184136353"
	
	
></p>
<blockquote>
<p>Ê≥®ÊÑè<code>Ë¥¶Âè∑</code>„ÄÅ<code>ÂØÜÁ†Å</code>‰∏çË¶ÅÂÜôÈîô
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406184229297.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406184229297"
	
	
>
Âê¶Âàô‰ºöÊä•ÈîôÂ¶Ç‰∏ã
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406184247861.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406184247861"
	
	
>
ÂØºÂÖ•‰πãÂâçÁöÑÈÖçÁΩÆÔºà<code>order-service-dev.properties</code>„ÄÅ<code>order-service.properties</code>„ÄÅ<code>user-service-dev.properties</code>Ôºâ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406184827019.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406184827019"
	
	
>
ÂèØ‰ª•ÁúãÂà∞Êï∞ÊçÆÂ∫ìÈáåÂ∑≤Áªè‰øùÂ≠ò‰∫ÜËØ•ÈÖçÁΩÆÁöÑÊï∞ÊçÆ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406185007386.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406185007386"
	
	
></p>
</blockquote>
<h2 id="feign">Feign
</h2><h3 id="ÂÖ•Èó®-1">ÂÖ•Èó®
</h3><blockquote>
<p>feignÊòØ‰∏Ä‰∏™<code>http</code>ÂÆ¢Êà∑Á´Ø</p>
<p>ÂÖàÊù•ÁúãÊàë‰ª¨‰ª•ÂâçÂà©Áî®RestTemplateÂèëËµ∑ËøúÁ®ãË∞ÉÁî®ÁöÑ‰ª£Á†Å:</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">restTemplate</span><span class="p">.</span><span class="na">getForObject</span><span class="p">(</span><span class="s">&#34;http://user-service/user/&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">(),</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Â≠òÂú®‰∏ãÈù¢ÁöÑÈóÆÈ¢ò:</p>
<ol>
<li>‰ª£Á†ÅÂèØËØªÊÄßÂ∑ÆÔºåÁºñÁ®ã‰ΩìÈ™å‰∏çÁªü‰∏Ä</li>
<li>ÂèÇÊï∞Â§çÊùÇURLÈöæ‰ª•Áª¥Êä§
<code>Feign</code>ÊòØ‰∏Ä‰∏™<code>Â£∞ÊòéÂºè</code>ÁöÑ<code>httpÂÆ¢Êà∑Á´Ø</code>ÔºåÂÆòÊñπÂú∞ÂùÄ: <a class="link" href="https://github.com/OpenFeign/feign"  target="_blank" rel="noopener"
    >https://github.com/OpenFeign/feign</a>
ÂÖ∂‰ΩúÁî®Â∞±ÊòØÂ∏ÆÂä©Êàë‰ª¨‰ºòÈõÖÁöÑÂÆûÁé∞httpËØ∑Ê±ÇÁöÑÂèëÈÄÅ,Ëß£ÂÜ≥‰∏äÈù¢ÊèêÂà∞ÁöÑÈóÆÈ¢ò„ÄÇ</li>
<li>ÂêØÂä®Á±ª‰∏äÊ∑ªÂä†<code>@EnableFeignClients</code>Ê≥®Ëß£</li>
<li><code>@FeignClient(&quot;provider-service&quot;)</code>Ê≥®Ëß£ÊåáÂÆöÊúçÂä°ÂêçÔºåÂπ∂Â§çÂà∂<code>ÊúçÂä°ÂèëÂ∏ÉËÄÖ</code>ÁöÑcontrollerÊñπÊ≥ïÂà∞<code>interface</code>ÈáåÔºåÂ¶Ç</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@FeignClient</span><span class="p">(</span><span class="s">&#34;provider-service&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ProviderClient</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/provider/{string}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">echo</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;string&#34;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">string</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>ÁÑ∂ÂêéÊ≥®ÂÖ•<code>ProviderClient</code>Âç≥ÂèØ‰ΩøÁî®</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;consumer&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConsumerController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProviderClient</span><span class="w"> </span><span class="n">providerClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{str}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">echo</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">providerClient</span><span class="p">.</span><span class="na">echo</span><span class="p">(</span><span class="n">str</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;provider&#34;</span><span class="p">,</span><span class="n">provider</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&#34;consumer&#34;</span><span class="p">,</span><span class="s">&#34;this is consumer,&#34;</span><span class="o">+</span><span class="n">str</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">map</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Áé∞Âú®Â∞ùËØï‰∏Ä‰∏ãÔºå</p>
<p>ÂéüÊú¨ÁöÑ<code>RestTemplate</code>‰ª£Á†ÅÂèØ‰ª•Âà†Êéâ‰∫Ü</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//@LoadBalanced</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//public RestTemplate restTemplate(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//    return new RestTemplate();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-openfeign<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableFeignClients</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@EnableDiscoveryClient</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@MapperScan</span><span class="p">(</span><span class="s">&#34;com.example.order.mapper&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@SpringBootApplication</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderApplication</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">OrderApplication</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËøôÈáåÁöÑÈÖçÁΩÆÈúÄË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÔºåÂÆπÊòìÂá∫ÈóÆÈ¢ò</p>
<p><code>@FeignClient</code>ÊåáÂÆö‰∫ÜÊúçÂä°Âêç</p>
<p><code>@GetMapping(&quot;/user/{id}&quot;)</code>ËøôÈáå‰∏ÄÂÆöË¶ÅÂíå<code>Ë¢´Ë∞ÉÁî®</code>ÊúçÂä°controllerÈáåÂÜôÁöÑ‰∏ÄÊ†∑ÊâçË°åÔºåÈÇ£Ëæπ<code>UserÊúçÂä°</code>Á±ª‰∏äÊúâ<code>@RequestMapping(&quot;user&quot;)</code>Ê≥®Ëß£
ÊâÄ‰ª•ËøôÈáå<code>@GetMapping(&quot;/{id}&quot;)</code>ÂâçÈù¢‰∏ÄÂÆöË¶ÅÂä†<code>/user</code></p>
<p>ÊñπÊ≥ïÂêçÔºåËøîÂõûÂÄº‰∏ÄÂÆöÈÉΩÂæó‰∏ÄÊ†∑ÔºåÂª∫ËÆÆÁõ¥Êé•ÂéªÂ§çÂà∂<code>UserController</code>Âç≥ÂèØ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@FeignClient</span><span class="p">(</span><span class="s">&#34;user-service&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">UserFeignClient</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/user/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;id&#34;</span><span class="p">)</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RefreshScope</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">UserFeignClient</span><span class="w"> </span><span class="n">userFeignClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Orders</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userFeignClient</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">orders</span><span class="p">.</span><span class="na">setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orders</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËøôÊ†∑Â∞±Âæà‰ºòÈõÖ‰∫Ü</p>
</blockquote>
<h3 id="springboot3Êñ∞ÁâπÊÄß">SpringBoot3Êñ∞ÁâπÊÄß
</h3><blockquote>
<p>SpringBoot3Êñ∞ÁâπÊÄßÂÜÖÁΩÆÂ£∞ÊòéÂºèHTTPÂÆ¢Êà∑Á´ØÔºåËøôÈáåÊµÖËØï‰∏Ä‰∏ã</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-webflux<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableFeignClients</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@EnableDiscoveryClient</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@SpringBootApplication</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConsumerApplication</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">ConsumerApplication</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ProviderFluxClient</span><span class="w"> </span><span class="nf">userRestClient</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">WebClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WebClient</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="na">baseUrl</span><span class="p">(</span><span class="s">&#34;http://localhost:8080&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">HttpServiceProxyFactory</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HttpServiceProxyFactory</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="n">WebClientAdapter</span><span class="p">.</span><span class="na">forClient</span><span class="p">(</span><span class="n">client</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">factory</span><span class="p">.</span><span class="na">createClient</span><span class="p">(</span><span class="n">ProviderFluxClient</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@HttpExchange</span><span class="p">(</span><span class="s">&#34;/provider&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">ProviderFluxClient</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetExchange</span><span class="p">(</span><span class="s">&#34;/{string}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Flux</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">echo</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;string&#34;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">string</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;consumer&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConsumerController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">ProviderFluxClient</span><span class="w"> </span><span class="n">providerFluxClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{str}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">echo</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">providerFluxClient</span><span class="p">.</span><span class="na">echo</span><span class="p">(</span><span class="n">str</span><span class="p">).</span><span class="na">subscribe</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;data:&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&#34;this is consumer,&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">str</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËøòÊòØÂõûÂà∞‰∏ªÈ¢ò<code>feign</code>Êù•</p>
</blockquote>
<h3 id="feignËá™ÂÆö‰πâÈÖçÁΩÆ">FeignËá™ÂÆö‰πâÈÖçÁΩÆ
</h3><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/%E6%97%A0%E6%A0%87%E9%A2%98.png"
	
	
	
	loading="lazy"
	
		alt="Êó†Ê†áÈ¢ò"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># springbootÈªòËÆ§Êó•ÂøóÊó•ÂøóÁ∫ßÂà´</span>
</span></span><span class="line"><span class="cl"><span class="na">logging.level.com.example</span><span class="o">=</span><span class="s">debug</span>
</span></span><span class="line"><span class="cl"><span class="c1"># defaultÊòØÂÖ®Â±ÄÈÖçÁΩÆÔºåÂ¶ÇÊûúÂÜôÊúçÂä°ÂêçÁß∞ÔºåÂàôÊòØÈíàÂØπÊüê‰∏™ÂæÆÊúçÂä°ÁöÑÈÖçÁΩÆ</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Êó•ÂøóÁ∫ßÂà´ÊòØ full</span>
</span></span><span class="line"><span class="cl"><span class="c1">#spring.cloud.openfeign.client.config.default.logger-level=full</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.openfeign.client.config.user-service.logger-level</span><span class="o">=</span><span class="s">full</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>‰πüÂèØ‰ª•‰ΩøÁî®java‰ª£Á†ÅÈÖçÁΩÆ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">feign.Logger</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FeignClientConfiguration</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Logger</span><span class="p">.</span><span class="na">Level</span><span class="w"> </span><span class="nf">feignLogLevel</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Logger</span><span class="p">.</span><span class="na">Level</span><span class="p">.</span><span class="na">BASIC</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Â¶ÇÊûúÂ∏åÊúõËøô‰∏™ÈÖçÁΩÆÂú®ÂÖ®Â±ÄÁîüÊïàÔºåÂú®ÂêØÂä®Á±ª‰∏äÈÖçÁΩÆÂ¶Ç‰∏ã</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableFeignClients</span><span class="p">(</span><span class="n">defaultConfiguration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FeignClientConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Â¶ÇÊûúÂ∏åÊúõÈíàÂØπÊüê‰∏™ÊúçÂä°ÁîüÊïà</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@FeignClient</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;user-service&#34;</span><span class="p">,</span><span class="n">configuration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FeignClientConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Ê≠£Â∏∏‰ΩøÁî®<code>Basic</code>Âç≥ÂèØÔºåË∞ÉËØïÈîôËØØÁî®<code>Full</code>ÔºåÊó•Âøó‰ºöÂØπÊÄßËÉΩÊúâÂΩ±Âìç</p>
</blockquote>
<h3 id="ÊÄßËÉΩ‰ºòÂåñ">ÊÄßËÉΩ‰ºòÂåñ
</h3><p>FeignÂ∫ïÂ±ÇÁöÑÂÆ¢Êà∑Á´ØÂÆûÁé∞:</p>
<ol>
<li>URLConnection:ÈªòËÆ§ÂÆûÁé∞Ôºå‰∏çÊîØÊåÅËøûÊé•Ê±†</li>
<li>Apache HttpClient:ÊîØÊåÅËøûÊé•Ê±†</li>
<li>OKHttp:ÊîØÊåÅËøûÊé•Ê±†
Ê∑ªÂä†Â¶Ç‰∏ã‰æùËµñ</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>io.github.openfeign<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>feign-httpclient<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;version&gt;</span>9.4.0<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1"># springbootÈªòËÆ§Êó•ÂøóÊó•ÂøóÁ∫ßÂà´</span>
</span></span><span class="line"><span class="cl"><span class="na">logging.level.com.example</span><span class="o">=</span><span class="s">debug</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.openfeign.client.config.user-service.logger-level</span><span class="o">=</span><span class="s">basic</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÂºÄÂêØÂØπhttpclientÁöÑÊîØÊåÅ</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.openfeign.httpclient.enabled</span><span class="o">=</span><span class="s">true</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊúÄÂ§ßËøûÊé•Êï∞200</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.openfeign.httpclient.max-connections</span><span class="o">=</span><span class="s">200</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊØè‰∏™Ë∑ØÂæÑÁöÑÊúÄÂ§ßËøûÊé•Êï∞</span>
</span></span><span class="line"><span class="cl"><span class="na">spring.cloud.openfeign.httpclient.max-connections-per-route</span><span class="o">=</span><span class="s">50</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Ëøô‰∏§‰∏™ÂÄº<code>max-connections</code>Âíå<code>max-connections-per-route</code>ÁöÑÊúÄ‰Ω≥ÈÄâÊã©ËøòÊòØÈúÄË¶Å‰ΩøÁî®ÂéãÊµãÂ∑•ÂÖ∑Êù•ÈíàÂØπËá™Â∑±È°πÁõÆÊµãËØïÂæóÂá∫</p>
</blockquote>
<h3 id="ÊúÄ‰Ω≥ÂÆûË∑µ">ÊúÄ‰Ω≥ÂÆûË∑µ
</h3><blockquote>
<p>FeignÁöÑÊúÄ‰Ω≥ÂÆûË∑µ</p>
</blockquote>
<ol>
<li>ÊñπÂºè‰∏Ä(ÁªßÊâø):ÁªôÊ∂àË¥πËÄÖÁöÑFeignClientÂíåÊèê‰æõËÄÖÁöÑcontrollerÂÆö‰πâÁªü-ÁöÑÁà∂Êé•Âè£‰Ωú‰∏∫Ê†áÂáÜ„ÄÇ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406215310739.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406215310739"
	
	
>
<strong>Áº∫ÁÇπ</strong></li>
</ol>
<ul>
<li>ÊúçÂä°Á¥ßËÄ¶Âêà</li>
<li>Áà∂Êé•Âè£ÂèÇÊï∞ÂàóË°®‰∏≠ÁöÑÊò†Â∞Ñ‰∏ç‰ºöË¢´ÁªßÊâø</li>
</ul>
<ol start="2">
<li>ÊñπÂºè‰∫å( ÊäΩÂèñ) :Â∞ÜFeignClientÊäΩÂèñ‰∏∫Áã¨Á´ãÊ®°Âùó,Âπ∂‰∏îÊääÊé•Âè£ÊúâÂÖ≥ÁöÑPOJO„ÄÅÈªòËÆ§ÁöÑFeignÈÖçÁΩÆÈÉΩÊîæÂà∞Ëøô‰∏™Ê®°Âùó‰∏≠ÔºåÊèê‰æõÁªôÊâÄÊúâÊ∂àË¥πËÄÖ‰ΩøÁî®
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406215531738.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406215531738"
	
	
>
<strong>Áº∫ÁÇπ</strong>
ÂºïÁî®‰∫ÜËøáÂ§öÁöÑapiÔºåÊàñËÆ∏<code>order</code>Âè™ÈúÄË¶ÅÂºïÂÖ•<code>user</code>ÁöÑ‰∏Ä‰∏§‰∏™<code>api</code>Âç≥ÂèØÔºå‰ΩÜÊòØÁé∞Âú®Âç¥ÂÖ®ÈÉ®ÂºïÂÖ•‰∫Ü</li>
</ol>
<blockquote>
<p>Â∞ùËØï‰∏Ä‰∏ãÊñπÂºè‰∫åÔºåÁé∞Âú®ÂÜçÊñ∞Âª∫‰∏§‰∏™È°πÁõÆ<code>common</code>Âíå<code>feign-api</code>ÔºåÂ∞Ü‰∏Ä‰∫õÂÖ¨ÂÖ±Á±ªÊäΩÂèñÂà∞<code>common</code>‰∏≠ÔºåÂ¶ÇÂÆû‰ΩìÁ±ª<code>User</code>ÊàñËÄÖ<code>Order</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406222235617.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406222235617"
	
	
>
common/pom.xml</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@AllArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@NoArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Order</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">price</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">num</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">userId</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@AllArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@NoArgsConstructor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">User</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">username</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">address</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>feign-api/pom.xml</p>
<p>ÂØºÂÖ•<code>common</code>‰æùËµñ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>common<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-openfeign<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@FeignClient</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;user-service&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">UserFeignClient</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/user/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;id&#34;</span><span class="p">)</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">feign.Logger</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.context.annotation.Bean</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FeignClientConfiguration</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Bean</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Logger</span><span class="p">.</span><span class="na">Level</span><span class="w"> </span><span class="nf">feignLogLevel</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Logger</span><span class="p">.</span><span class="na">Level</span><span class="p">.</span><span class="na">BASIC</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>order/pom.xml</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">    <span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.example<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>feign-api<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>io.github.openfeign<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>feign-httpclient<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-openfeign<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-loadbalancer<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.baomidou<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;exclusions&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;exclusion&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/exclusion&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/exclusions&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.nacos<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>nacos-client<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.mysql<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>mysql-connector-j<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.projectlombok<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>lombok<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableFeignClients</span><span class="p">(</span><span class="n">defaultConfiguration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FeignClientConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@EnableDiscoveryClient</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@MapperScan</span><span class="p">(</span><span class="s">&#34;com.example.order.mapper&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@SpringBootApplication</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderApplication</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">OrderApplication</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">com.baomidou.mybatisplus.extension.plugins.pagination.Page</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.example.common.entity.User</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.example.feign.api.UserFeignClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.example.order.domain.Orders</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.example.order.service.OrdersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.cloud.context.config.annotation.RefreshScope</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.springframework.web.bind.annotation.*</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RefreshScope</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">UserFeignClient</span><span class="w"> </span><span class="n">userFeignClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Orders</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userFeignClient</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">orders</span><span class="p">.</span><span class="na">setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orders</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÂêØÂä®Á°ÆÊä•Èîô</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Consider defining a bean of type &#39;com.example.feign.api.UserFeignClient&#39; in your configuration.
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Âõ†‰∏∫ÂåÖÊâ´ÊèèÁöÑÈóÆÈ¢òÔºå<code>order</code>ÊúçÂä°ÁöÑÈªòËÆ§ÂåÖÊâ´ÊèèÂú®<code>com.example.order</code>‰∏ãÔºå‰ΩÜÊòØ<code>feign-api</code>ÁöÑÂåÖÂú®<code>com.example.feign.api</code>‰∏ã
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406222933521.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406222933521"
	
	
>
Âª∫ËÆÆÈÄâÁ¨¨‰∫åÁßç</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@EnableFeignClients</span><span class="p">(</span><span class="n">defaultConfiguration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FeignClientConfiguration</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">basePackageClasses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">UserFeignClient</span><span class="p">.</span><span class="na">class</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">})</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@EnableDiscoveryClient</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@MapperScan</span><span class="p">(</span><span class="s">&#34;com.example.order.mapper&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@SpringBootApplication</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrderApplication</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="na">run</span><span class="p">(</span><span class="n">OrderApplication</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÂÜçÊ¨°ÂêØÂä®Âç≥ÂèØ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406223012310.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406223012310"
	
	
></p>
</blockquote>
<h2 id="gateway">Gateway
</h2><h3 id="ÂÖ•Èó®-2">ÂÖ•Èó®
</h3><p>‰∏∫‰ªÄ‰πàÈúÄË¶ÅÁΩëÂÖ≥?
<strong>ÁΩëÂÖ≥ÂäüËÉΩ:</strong></p>
<ol>
<li>Ë∫´‰ªΩËÆ§ËØÅÂíåÊùÉÈôêÊ†°È™å</li>
<li>ÊúçÂä°Ë∑ØÁî±„ÄÅ Ë¥üËΩΩÂùáË°°</li>
<li>ËØ∑Ê±ÇÈôêÊµÅ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240406223620424.png"
	
	
	
	loading="lazy"
	
		alt="image-20240406223620424"
	
	
>
Âú®SpringCloud‰∏≠ÁΩëÂÖ≥ÁöÑÂÆûÁé∞ÂåÖÊã¨‰∏§Áßç:</li>
<li>gateway</li>
<li>zuul
ZuulÊòØÂü∫‰∫éServletÁöÑÂÆûÁé∞ÔºåÂ±û‰∫éÈòªÂ°ûÂºèÁºñÁ®ã„ÄÇËÄåSpringCloudGatewayÂàôÊòØ Âü∫‰∫éSpring5‰∏≠Êèê‰æõÁöÑWebFlux,Â±û‰∫éÂìçÂ∫îÂºèÁºñÁ®ãÁöÑÂÆûÁé∞ÔºåÂÖ∑Â§áÊõ¥Â•ΩÁöÑÊÄßËÉΩ„ÄÇ</li>
</ol>
<h3 id="È°πÁõÆÂàõÂª∫">È°πÁõÆÂàõÂª∫
</h3><p><strong>gateway/pom.xml</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl">		<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-loadbalancer<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>com.alibaba.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-gateway<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>gateway/application.yml</strong></p>
<blockquote>
<p>Ê≥®ÊÑèËøôÈáåÁΩëÂÖ≥‰∏ÄÂÆöË¶ÅÂíå<code>order</code>„ÄÅ<code>user</code>ÊúçÂä°Âä†ÂÖ•Âà∞Âêå‰∏Ä‰∏™<code>nacosÂëΩÂêçÁ©∫Èó¥</code>ÔºåÂê¶Âàô‰ºöÊä•503</p>
<p>ËÄå‰∏îË¶ÅÊ∑ªÂä†<code>spring-cloud-loadbalancer</code>ÁöÑ‰æùËµñÔºåÂê¶Âàô‰πü‰ºöÊä•503</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">application</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">gateway-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nacos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">import-check</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">discovery</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># ÁΩëÂÖ≥Ë∑ØÁî±ÈÖçÁΩÆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c"># Ë∑ØÁî±idÔºåËá™ÂÆö‰πâÂîØ‰∏ÄÂç≥ÂèØ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># ÁõÆÊ†áË∑ØÁî±Âú∞ÂùÄÔºåËøôÁßçÊñπÂºèÁî®ÁöÑËæÉÂ∞ë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># uri: http://localhost:8080</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># lbÂ∞±ÊòØLoadBalancerÔºåË¥üËΩΩÂùáË°°ÁöÑÊÑèÊÄùÔºåÂêéÈù¢ÊòØÊúçÂä°ÂêçÁß∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ë∑ØÁî±Êñ≠Ë®ÄÔºåÂà§Êñ≠ËØ∑Ê±ÇÊòØÂê¶Á¨¶ÂêàË∑ØÁî±ËßÑÂàôÊù°‰ª∂</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c"># Ë∑ØÂæÑÂåπÈÖç„ÄÇÂåπÈÖç‰ª•/user/ÂºÄÂ§¥ÁöÑË∑ØÁî±</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/user/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/order/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8888</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407071648831.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407071648831"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407071705475.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407071705475"
	
	
></p>
<blockquote>
<p>ÂèØ‰ª•ÁúãÂà∞Â∑≤ÁªèÊàêÂäüË∑ØÁî±Âà∞<code>order</code>ÊúçÂä°‰∫Ü</p>
<p>Êï¥‰∏™ÊµÅÁ®ãÂ¶Ç‰∏ãÂõæÊâÄÁ§∫
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407071801233.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407071801233"
	
	
>
Ë∑ØÁî±ÈÖçÁΩÆÂåÖÊã¨</p>
</blockquote>
<ol>
<li>Ë∑ØÁî±id:Ë∑ØÁî±ÁöÑÂîØ‰∏ÄÊ†áÁ§∫.</li>
<li>Ë∑ØÁî±ÁõÆÊ†á(uri):Ë∑ØÁî±ÁöÑÁõÆÊ†áÂú∞ÂùÄÔºåhttp‰ª£Ë°®Âõ∫ÂÆöÂú∞ÂùÄÔºålb‰ª£Ë°®Ê†πÊçÆÊúçÂä°ÂêçË¥üËΩΩÂùáË°°</li>
<li>Ë∑ØÁî±Êñ≠Ë®Ä(predicates):Âà§Êñ≠Ë∑ØÁî±ÁöÑËßÑÂàô,</li>
<li>Ë∑ØÁî±ËøáÊª§Âô®(filters):ÂØπËØ∑Ê±ÇÊàñÂìçÂ∫îÂÅöÂ§ÑÁêÜ</li>
</ol>
<h3 id="Ë∑ØÁî±Êñ≠Ë®ÄÂ∑•ÂéÇ">Ë∑ØÁî±Êñ≠Ë®ÄÂ∑•ÂéÇ
</h3><p>Êàë‰ª¨Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂÜôÁöÑÊñ≠Ë®ÄËßÑÂàôÂè™ÊòØÂ≠óÁ¨¶‰∏≤,Ëøô‰∫õÂ≠óÁ¨¶‰∏≤‰ºöË¢´Predicate FactoryËØªÂèñÂπ∂Â§ÑÁêÜ,ËΩ¨Âèò‰∏∫Ë∑ØÁî±Âà§Êñ≠ÁöÑÊù°‰ª∂
‰æãÂ¶Ç<code>Path=/user/**</code>ÊòØÊåâÁÖßË∑ØÂæÑÂåπÈÖçÔºåËøô‰∏™ËßÑÂàôÊòØÁî±<code>org.springframework.cloud.gateway.handler.predicate.PathRoutePredicateFactory</code>Á±ªÊù•Â§ÑÁêÜÁöÑ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407072100082.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407072100082"
	
	
></p>
<blockquote>
<p>ËØ¶ÁªÜÊü•Áúã<a class="link" href="https://spring.io/projects/spring-cloud-gateway"  target="_blank" rel="noopener"
    >springÂÆòÁΩë</a></p>
<p>ËøôÈáåËØï‰∏Ä‰∏ã<code>After</code>ÔºåÂ¶ÇÊûú‰∏çÁü•ÈÅìÊó∂Èó¥Ê†ºÂºèÊÄé‰πàÂÜôÔºåÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÊñπÊ≥ïÊâìÂç∞</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">contextLoads</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ZonedDateTime</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;now = &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">now</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">application</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">gateway-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nacos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">import-check</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">discovery</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># ÁΩëÂÖ≥Ë∑ØÁî±ÈÖçÁΩÆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c"># Ë∑ØÁî±idÔºåËá™ÂÆö‰πâÂîØ‰∏ÄÂç≥ÂèØ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># ÁõÆÊ†áË∑ØÁî±Âú∞ÂùÄÔºåËøôÁßçÊñπÂºèÁî®ÁöÑËæÉÂ∞ë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># uri: http://localhost:8080</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># lbÂ∞±ÊòØLoadBalancerÔºåË¥üËΩΩÂùáË°°ÁöÑÊÑèÊÄùÔºåÂêéÈù¢ÊòØÊúçÂä°ÂêçÁß∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ë∑ØÁî±Êñ≠Ë®ÄÔºåÂà§Êñ≠ËØ∑Ê±ÇÊòØÂê¶Á¨¶ÂêàË∑ØÁî±ËßÑÂàôÊù°‰ª∂</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c"># Ë∑ØÂæÑÂåπÈÖç„ÄÇÂåπÈÖç‰ª•/user/ÂºÄÂ§¥ÁöÑË∑ØÁî±</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/user/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/order/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">After=2024-04-07T07:43:30.566635800+08:00[Asia/Shanghai]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8888</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÂΩìË∑ØÁî±‰∏≠Ê≤°ÊúâÂåπÈÖçÁöÑË∑ØÁî±ÔºåÂ∞±‰ºöÊä•404Êó†Ê≥ïË∑ØÁî±</p>
</blockquote>
<h3 id="Ë∑ØÁî±ËøáÊª§Âô®">Ë∑ØÁî±ËøáÊª§Âô®
</h3><p>GatewayFilterÊòØÁΩëÂÖ≥‰∏≠Êèê‰æõÁöÑ‰∏ÄÁßçËøáÊª§Âô®ÔºåÂèØ‰ª•ÂØπËøõÂÖ•ÁΩëÂÖ≥ÁöÑËØ∑Ê±ÇÂíåÂæÆÊúçÂä°ËøîÂõûÁöÑÂìçÂ∫îÂÅöÂ§ÑÁêÜ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407073828621.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407073828621"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407073840487.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407073840487"
	
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">application</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">gateway-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nacos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">import-check</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">discovery</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># ÁΩëÂÖ≥Ë∑ØÁî±ÈÖçÁΩÆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c"># Ë∑ØÁî±idÔºåËá™ÂÆö‰πâÂîØ‰∏ÄÂç≥ÂèØ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># ÁõÆÊ†áË∑ØÁî±Âú∞ÂùÄÔºåËøôÁßçÊñπÂºèÁî®ÁöÑËæÉÂ∞ë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># uri: http://localhost:8080</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># lbÂ∞±ÊòØLoadBalancerÔºåË¥üËΩΩÂùáË°°ÁöÑÊÑèÊÄùÔºåÂêéÈù¢ÊòØÊúçÂä°ÂêçÁß∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ë∑ØÁî±Êñ≠Ë®ÄÔºåÂà§Êñ≠ËØ∑Ê±ÇÊòØÂê¶Á¨¶ÂêàË∑ØÁî±ËßÑÂàôÊù°‰ª∂</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c"># Ë∑ØÂæÑÂåπÈÖç„ÄÇÂåπÈÖç‰ª•/user/ÂºÄÂ§¥ÁöÑË∑ØÁî±</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/user/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/order/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ê∑ªÂä†ËØ∑Ê±ÇÂ§¥</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">AddRequestHeader=color,this is red</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8888</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@RefreshScope</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RestController</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&#34;order&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OrdersController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OrdersService</span><span class="w"> </span><span class="n">ordersService</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Autowired</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">UserFeignClient</span><span class="w"> </span><span class="n">userFeignClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@GetMapping</span><span class="p">(</span><span class="s">&#34;/{id}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Orders</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="nd">@RequestHeader</span><span class="p">(</span><span class="s">&#34;color&#34;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;color = &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">color</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Orders</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ordersService</span><span class="p">.</span><span class="na">getById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userFeignClient</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">orders</span><span class="p">.</span><span class="na">getUserId</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">orders</span><span class="p">.</span><span class="na">setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">orders</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÈÄöËøáÁΩëÂÖ≥Ë∑ØÁî±Âà∞<code>order</code>ÊúçÂä°Ôºå<code>order</code>ÊúçÂä°ÊéßÂà∂Âè∞ÊâìÂç∞<code>color = this is red</code></p>
<p>Â¶ÇÊûúÂ∏åÊúõÈÖçÁΩÆÊâÄÊúâÁΩëÂÖ≥ÈÉΩÈÖçÁΩÆËØ•ËøáÊª§Âô®ÔºåÂèØ‰ª•‰ΩøÁî®<code>ÈªòËÆ§ËøáÊª§Âô®</code></p>
<p><code>ÈªòËÆ§ËøáÊª§Âô®</code>ÂØπÊâÄÊúâË∑ØÁî±ÈÉΩÁîüÊïà</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">application</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">gateway-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nacos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">import-check</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">discovery</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># ÁΩëÂÖ≥Ë∑ØÁî±ÈÖçÁΩÆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c"># Ë∑ØÁî±idÔºåËá™ÂÆö‰πâÂîØ‰∏ÄÂç≥ÂèØ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># ÁõÆÊ†áË∑ØÁî±Âú∞ÂùÄÔºåËøôÁßçÊñπÂºèÁî®ÁöÑËæÉÂ∞ë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># uri: http://localhost:8080</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># lbÂ∞±ÊòØLoadBalancerÔºåË¥üËΩΩÂùáË°°ÁöÑÊÑèÊÄùÔºåÂêéÈù¢ÊòØÊúçÂä°ÂêçÁß∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ë∑ØÁî±Êñ≠Ë®ÄÔºåÂà§Êñ≠ËØ∑Ê±ÇÊòØÂê¶Á¨¶ÂêàË∑ØÁî±ËßÑÂàôÊù°‰ª∂</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c"># Ë∑ØÂæÑÂåπÈÖç„ÄÇÂåπÈÖç‰ª•/user/ÂºÄÂ§¥ÁöÑË∑ØÁî±</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/user/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/order/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># ÈªòËÆ§ËøáÊª§Âô®</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">default-filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">AddRequestHeader=color,this is red</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8888</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂÖ®Â±ÄËøáÊª§Âô®">ÂÖ®Â±ÄËøáÊª§Âô®
</h3><blockquote>
<p>ÂÖ®Â±ÄËøáÊª§Âô®ÁöÑ‰ΩúÁî®‰πüÊòØÂ§ÑÁêÜ‰∏Ä-ÂàáËøõ ÂÖ•ÁΩëÂÖ≥ÁöÑËØ∑Ê±ÇÂíåÂæÆÊúçÂä°ÂìçÂ∫îÔºå‰∏é<code>GatewayFilter</code>ÁöÑ‰ΩúÁî®‰∏ÄÊ†∑„ÄÇ</p>
<p>Âå∫Âà´Âú®‰∫é<code>GatewayFilter</code>ÈÄöËøáÈÖçÁΩÆÂÆö‰πâÔºåÂ§ÑÁêÜÈÄªËæëÊòØÂõ∫ÂÆöÁöÑ„ÄÇËÄå<code>GlobalFilter</code>ÁöÑÈÄªËæëÈúÄË¶ÅËá™Â∑±ÂÜô‰ª£Á†ÅÂÆûÁé∞„ÄÇ</p>
<p>ÊÑüËßâÂíå<code>default-filters</code>ÂæàÂÉèÔºå‰ΩÜÊòØÂ¶ÇÊûúÈúÄË¶ÅËá™ÂÆö‰πâ‰∏Ä‰∫õÂ§çÊùÇÁöÑÈÄªËæëÔºåÂ∞±Âæó‰ΩøÁî®<code>GatewayFilter</code>‰∫Ü</p>
<p>ÂÆö‰πâÊñπÂºèÊòØÂÆûÁé∞<code>GatewayFilter</code>Êé•Âè£
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407075426584.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407075426584"
	
	
></p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">GlobalFilter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">	 * Process the Web request and (optionally) delegate to the next {@code WebFilter}
</span></span></span><span class="line"><span class="cl"><span class="cm">	 * through the given {@link GatewayFilterChain}.
</span></span></span><span class="line"><span class="cl"><span class="cm">	 * @param exchange the current server exchange
</span></span></span><span class="line"><span class="cl"><span class="cm">	 * @param chain provides a way to delegate to the next filter
</span></span></span><span class="line"><span class="cl"><span class="cm">	 * @return {@code Mono&lt;Void&gt;} to indicate when request processing is complete
</span></span></span><span class="line"><span class="cl"><span class="cm">	 */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">ServerWebExchange</span><span class="w"> </span><span class="n">exchange</span><span class="p">,</span><span class="w"> </span><span class="n">GatewayFilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ÈúÄÊ±Ç</strong>
ÂÆö‰πâÂÖ®Â±ÄËøáÊª§Âô®ÔºåÊã¶Êà™ËØ∑Ê±ÇÔºåÂà§Êñ≠ËØ∑Ê±ÇÁöÑÂèÇÊï∞ÊòØÂê¶Êª°Ë∂≥‰∏ãÈù¢Êù°‰ª∂:</p>
<ol>
<li>ÂèÇÊï∞‰∏≠ÊòØÂê¶Êúâauthorization</li>
<li>authorizationÂèÇÊï∞ÂÄºÊòØÂê¶‰∏∫admin</li>
</ol>
<blockquote>
<p>Âú®<code>gateway</code>ÊúçÂä°‰∏ãÊñ∞Âª∫<code>AuthorizationFilter</code>Âπ∂ÂÆûÁé∞<code>GlobalFilter</code>Êé•Âè£</p>
<p>Êï¥‰ΩìÊ≠•È™§Â¶Ç‰∏ã</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthorizationFilter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GlobalFilter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">ServerWebExchange</span><span class="w"> </span><span class="n">exchange</span><span class="p">,</span><span class="w"> </span><span class="n">GatewayFilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Ëé∑ÂèñËØ∑Ê±ÇÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Ëé∑ÂèñÂèÇÊï∞‰∏≠ÁöÑauthorizationÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Âà§Êñ≠ÂèÇÊï∞ÂÄºÊòØÂê¶Á≠â‰∫éadmin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ÊòØÔºåÂàôÊîæË°å„ÄÇÂê¶ÔºåÂàôÊã¶Êà™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÂÖ∑‰ΩìÂÆûÁé∞Â¶Ç‰∏ã</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// ËøáÊª§Âô®‰ºòÂÖàÁ∫ßÔºåË∂äÂ∞èË∂äÈ´ò</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Order</span><span class="p">(</span><span class="n">1</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@Component</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthorizationFilter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GlobalFilter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">ServerWebExchange</span><span class="w"> </span><span class="n">exchange</span><span class="p">,</span><span class="w"> </span><span class="n">GatewayFilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Ëé∑ÂèñËØ∑Ê±ÇÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ServerHttpRequest</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exchange</span><span class="p">.</span><span class="na">getRequest</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">MultiValueMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">queryParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getQueryParams</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Ëé∑ÂèñÂèÇÊï∞‰∏≠ÁöÑ authorization ÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">authorization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryParams</span><span class="p">.</span><span class="na">getFirst</span><span class="p">(</span><span class="s">&#34;authorization&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Âà§Êñ≠ÂèÇÊï∞ÂÄºÊòØÂê¶Á≠â‰∫éadmin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="s">&#34;admin&#34;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">authorization</span><span class="p">)){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="c1">// ÊòØÔºåÂàôÊîæË°å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="n">chain</span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">exchange</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ËÆæÁΩÆÁä∂ÊÄÅÁ†Å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">exchange</span><span class="p">.</span><span class="na">getResponse</span><span class="p">().</span><span class="na">setStatusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">UNAUTHORIZED</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Âê¶ÔºåÂàôÊã¶Êà™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">exchange</span><span class="p">.</span><span class="na">getResponse</span><span class="p">().</span><span class="na">setComplete</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Èô§‰∫ÜÈÄöËøá<code>@Order</code>Ê≥®Ëß£Êù•ÂÆö‰πâËøáÊª§Âô®‰ºòÂÖàÁ∫ßÔºåËøòÂèØ‰ª•ÂÆûÁé∞<code>Ordered</code>Êé•Âè£Êù•ÈáçÂÜô<code>getOrder</code>ÊñπÊ≥ïÂÆö‰πâËøáÊª§Âô®‰ºòÂÖàÁ∫ß</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Component</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthorizationFilter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GlobalFilter</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">Ordered</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Mono</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">ServerWebExchange</span><span class="w"> </span><span class="n">exchange</span><span class="p">,</span><span class="w"> </span><span class="n">GatewayFilterChain</span><span class="w"> </span><span class="n">chain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Ëé∑ÂèñËØ∑Ê±ÇÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">ServerHttpRequest</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exchange</span><span class="p">.</span><span class="na">getRequest</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">MultiValueMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">queryParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getQueryParams</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Ëé∑ÂèñÂèÇÊï∞‰∏≠ÁöÑ authorization ÂèÇÊï∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">authorization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">queryParams</span><span class="p">.</span><span class="na">getFirst</span><span class="p">(</span><span class="s">&#34;authorization&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Âà§Êñ≠ÂèÇÊï∞ÂÄºÊòØÂê¶Á≠â‰∫éadmin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="s">&#34;admin&#34;</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">authorization</span><span class="p">)){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="c1">// ÊòØÔºåÂàôÊîæË°å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="n">chain</span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">exchange</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// ËÆæÁΩÆÁä∂ÊÄÅÁ†Å</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">exchange</span><span class="p">.</span><span class="na">getResponse</span><span class="p">().</span><span class="na">setStatusCode</span><span class="p">(</span><span class="n">HttpStatus</span><span class="p">.</span><span class="na">UNAUTHORIZED</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// Âê¶ÔºåÂàôÊã¶Êà™</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">exchange</span><span class="p">.</span><span class="na">getResponse</span><span class="p">().</span><span class="na">setComplete</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getOrder</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËÆøÈóÆhttp://localhost:8888/order/1
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407080630998.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407080630998"
	
	
>
ËÆøÈóÆhttp://localhost:8888/order/1?authorization=admin
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407080653461.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407080653461"
	
	
></p>
</blockquote>
<h3 id="ËøáÊª§Âô®ÊâßË°åÈ°∫Â∫è">ËøáÊª§Âô®ÊâßË°åÈ°∫Â∫è
</h3><blockquote>
<p>ËØ∑Ê±ÇËøõÂÖ•ÁΩëÂÖ≥‰ºöÁ¢∞Âà∞‰∏âÁ±ªËøáÊª§Âô®:ÂΩìÂâçË∑ØÁî±ÁöÑËøáÊª§Âô®„ÄÅDefaultFilter. GlobalFilter
ËØ∑Ê±ÇË∑ØÁî±ÂêéÔºå‰ºöÂ∞ÜÂΩìÂâçË∑ØÁî±ËøáÊª§Âô®ÂíåDefaultFjlter„ÄÅGlobalFilter, ÂêàÂπ∂Âà∞‰∏Ä‰∏™ËøáÊª§Âô®Èìæ(ÈõÜÂêà)‰∏≠ÔºåÊéíÂ∫èÂêé‰æùÊ¨°ÊâßË°åÊØè‰∏™ËøáÊª§Âô®</p>
<p>Âú®<code>GatewayFilterAdapter</code>‰∏≠<code>GatewayFilter</code>Ë¢´ÈÄÇÈÖçÊàê‰∫Ü<code>GatewayFilter</code></p>
<p>ÁΩëÂÖ≥‰∏≠ÁöÑÊâÄÊúâËøáÊª§Âô®ÊúÄÁªàÈÉΩÊòØ<code>GatewayFilter</code>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407081153557.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407081153557"
	
	
>
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407081341725.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407081341725"
	
	
>
<strong>ËøáÊª§Âô®ÊâßË°åÈ°∫Â∫è</strong></p>
</blockquote>
<ol>
<li>ÊØè‰∏Ä‰∏™ËøáÊª§Âô®ÈÉΩÂøÖÈ°ªÊåáÂÆö‰∏Ä‰∏™intÁ±ªÂûãÁöÑorderÂÄºÔºå orderÂÄºË∂äÂ∞èÔºå ‰ºòÂÖàÁ∫ßË∂äÈ´òÔºåÊâßË°åÈ°∫Â∫èË∂äÈù†Ââç„ÄÇ</li>
<li>GlobalFilterÈÄöËøáÂÆûÁé∞OrderedÊé•Âè£ÔºåÊàñËÄÖÊ∑ªÂä†@OrderÊ≥®Ëß£Êù•ÊåáÂÆöorderÂÄºÔºåÁî±Êàë‰ª¨Ëá™Â∑±ÊåáÂÆö</li>
<li>Ë∑ØÁî±ËøáÊª§Âô®ÂíådefaultFilterÁöÑorderÁî±SpringÊåáÂÆö,ÈªòËÆ§ÊòØÊåâÁÖßÂ£∞ÊòéÈ°∫Â∫è‰ªé1ÈÄíÂ¢û„ÄÇ</li>
<li>ÂΩìËøáÊª§Âô®ÁöÑorderÂÄº‰∏ÄÊ†∑Êó∂Ôºå ‰ºöÊåâÁÖß<code>defaultFilter</code> &gt;<code>Ë∑ØÁî±ËøáÊª§Âô®</code>&gt; <code>GlobalFilter</code>ÁöÑÈ°∫Â∫èÊâßË°å„ÄÇ
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407081533812.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407081533812"
	
	
></li>
</ol>
<h4 id="Ë∑®ÂüüÈóÆÈ¢òÂ§ÑÁêÜ">Ë∑®ÂüüÈóÆÈ¢òÂ§ÑÁêÜ
</h4><blockquote>
<p>ÁΩëÂÖ≥ÊòØÂü∫‰∫é<code>WebFlux</code>Êù•ÂÆûÁé∞ÁöÑÔºå‰πãÂâçÁöÑ<code>Servlet Api</code>Â∞±Êó†Ê≥ï‰ΩøÁî®‰∫Ü
Ë∑®Âüü:ÂüüÂêç‰∏ç‰∏ÄËá¥Â∞±ÊòØË∑®ÂüüÔºå‰∏ªË¶ÅÂåÖÊã¨:</p>
</blockquote>
<ol>
<li>ÂüüÂêç‰∏çÂêå: <a class="link" href="https://www.taobao.com"  target="_blank" rel="noopener"
    >www.taobao.com</a> Âíåwww.taobao.orgÂíåwww.jd.comÂíåmiaosha.jd.com</li>
<li>ÂüüÂêçÁõ∏ÂêåÔºåÁ´ØÂè£‰∏çÂêå: localhost:8080Âíålocalhost8081
Ë∑®ÂüüÈóÆÈ¢ò:ÊµèËßàÂô®Á¶ÅÊ≠¢ËØ∑Ê±ÇÁöÑÂèëËµ∑ËÄÖ‰∏éÊúçÂä°Á´ØÂèëÁîüË∑®ÂüüajaxËØ∑Ê±Ç,ËØ∑Ê±ÇË¢´ÊµèËßàÂô®Êã¶Êà™ÁöÑÈóÆÈ¢ò
ÁΩëÂÖ≥Â§ÑÁêÜË∑®ÂüüÈááÁî®ÁöÑÂêåÊ†∑ÊòØCORSÊñπÊ°à,Âπ∂‰∏îÂè™ÈúÄË¶ÅÁÆÄÂçïÈÖçÁΩÆÂç≥ÂèØÂÆûÁé∞
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407082008295.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407082008295"
	
	
></li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1.0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;ie=edge&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Document<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">pre</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">spring:
</span></span><span class="line"><span class="cl">  cloud:
</span></span><span class="line"><span class="cl">    gateway:
</span></span><span class="line"><span class="cl">      globalcors: # ÂÖ®Â±ÄÁöÑË∑®ÂüüÂ§ÑÁêÜ
</span></span><span class="line"><span class="cl">        add-to-simple-url-handler-mapping: true # Ëß£ÂÜ≥optionsËØ∑Ê±ÇË¢´Êã¶Êà™ÈóÆÈ¢ò
</span></span><span class="line"><span class="cl">        corsConfigurations:
</span></span><span class="line"><span class="cl">          &#39;[/**]&#39;:
</span></span><span class="line"><span class="cl">            allowedOrigins: # ÂÖÅËÆ∏Âì™‰∫õÁΩëÁ´ôÁöÑË∑®ÂüüËØ∑Ê±Ç
</span></span><span class="line"><span class="cl">              - &#34;http://localhost:8090&#34;
</span></span><span class="line"><span class="cl">              - &#34;http://www.leyou.com&#34;
</span></span><span class="line"><span class="cl">            allowedMethods: # ÂÖÅËÆ∏ÁöÑË∑®ÂüüajaxÁöÑËØ∑Ê±ÇÊñπÂºè
</span></span><span class="line"><span class="cl">              - &#34;GET&#34;
</span></span><span class="line"><span class="cl">              - &#34;POST&#34;
</span></span><span class="line"><span class="cl">              - &#34;DELETE&#34;
</span></span><span class="line"><span class="cl">              - &#34;PUT&#34;
</span></span><span class="line"><span class="cl">              - &#34;OPTIONS&#34;
</span></span><span class="line"><span class="cl">            allowedHeaders: &#34;*&#34; # ÂÖÅËÆ∏Âú®ËØ∑Ê±Ç‰∏≠Êê∫Â∏¶ÁöÑÂ§¥‰ø°ÊÅØ
</span></span><span class="line"><span class="cl">            allowCredentials: true # ÊòØÂê¶ÂÖÅËÆ∏Êê∫Â∏¶cookie
</span></span><span class="line"><span class="cl">            maxAge: 360000 # ËøôÊ¨°Ë∑®ÂüüÊ£ÄÊµãÁöÑÊúâÊïàÊúü
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">pre</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://unpkg.com/axios/dist/axios.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&#34;http://localhost:10010/user/1?authorization=admin&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">resp</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">resp</span><span class="p">.</span><span class="nx">data</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>‰ΩøÁî®<code>VS Code</code>ÂêØÂä®
<img src="https://raw.githubusercontent.com/IsUnderAchiever/markdown-img/master/PicGo01/image-20240407082338156.png"
	
	
	
	loading="lazy"
	
		alt="image-20240407082338156"
	
	
>
ÈÖçÁΩÆ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">globalcors</span><span class="p">:</span><span class="w"> </span><span class="c"># ÂÖ®Â±ÄÁöÑË∑®ÂüüÂ§ÑÁêÜ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">add-to-simple-url-handler-mapping</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># Ëß£ÂÜ≥optionsËØ∑Ê±ÇË¢´Êã¶Êà™ÈóÆÈ¢ò</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">corsConfigurations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">&#39;[/**]&#39;</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowedOrigins</span><span class="p">:</span><span class="w"> </span><span class="c"># ÂÖÅËÆ∏Âì™‰∫õÁΩëÁ´ôÁöÑË∑®ÂüüËØ∑Ê±Ç</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;http://localhost:8090&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;http://www.leyou.com&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowedMethods</span><span class="p">:</span><span class="w"> </span><span class="c"># ÂÖÅËÆ∏ÁöÑË∑®ÂüüajaxÁöÑËØ∑Ê±ÇÊñπÂºè</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;GET&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;POST&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;DELETE&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;PUT&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;OPTIONS&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowedHeaders</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;*&#34;</span><span class="w"> </span><span class="c"># ÂÖÅËÆ∏Âú®ËØ∑Ê±Ç‰∏≠Êê∫Â∏¶ÁöÑÂ§¥‰ø°ÊÅØ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowCredentials</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># ÊòØÂê¶ÂÖÅËÆ∏Êê∫Â∏¶cookie</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">maxAge</span><span class="p">:</span><span class="w"> </span><span class="m">360000</span><span class="w"> </span><span class="c"># ËøôÊ¨°Ë∑®ÂüüÊ£ÄÊµãÁöÑÊúâÊïàÊúü</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Ê≤°Áî®Ôºå‰æùÁÑ∂Êä•ÈîôË∑®ÂüüÈóÆÈ¢ò</p>
<p>Áî±‰∫éspring-framework‰ªé5.3.0ÁâàÊú¨ÂºÄÂßãÔºåÂÖ≥‰∫éCORSË∑®ÂüüÈÖçÁΩÆÁ±ª <strong>CorsConfiguration</strong>‰∏≠Â∞Ü <code>allowedOrigins</code> ÂèòÈáèÂêç‰øÆÊîπ‰∏∫ <code>allowedOriginPatterns</code></p>
<p>ÊâÄ‰ª•ÔºåÂ¶ÇÊûúÈ°πÁõÆ‰∏≠ spring-framework ÁâàÊú¨È´ò‰∫é5.3.0ÔºåËØ∑‰ΩøÁî®Â¶Ç‰∏ãÈÖçÁΩÆ‰ª£Á†Å</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">application</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">gateway-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">nacos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">import-check</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">discovery</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">server-addr</span><span class="p">:</span><span class="w"> </span><span class="l">localhost:8848</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">d2455f6d-ed00-41ba-9915-09021bc0df6c</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># ÁΩëÂÖ≥Ë∑ØÁî±ÈÖçÁΩÆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c"># Ë∑ØÁî±idÔºåËá™ÂÆö‰πâÂîØ‰∏ÄÂç≥ÂèØ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># ÁõÆÊ†áË∑ØÁî±Âú∞ÂùÄÔºåËøôÁßçÊñπÂºèÁî®ÁöÑËæÉÂ∞ë</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># uri: http://localhost:8080</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># lbÂ∞±ÊòØLoadBalancerÔºåË¥üËΩΩÂùáË°°ÁöÑÊÑèÊÄùÔºåÂêéÈù¢ÊòØÊúçÂä°ÂêçÁß∞</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ë∑ØÁî±Êñ≠Ë®ÄÔºåÂà§Êñ≠ËØ∑Ê±ÇÊòØÂê¶Á¨¶ÂêàË∑ØÁî±ËßÑÂàôÊù°‰ª∂</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c"># Ë∑ØÂæÑÂåπÈÖç„ÄÇÂåπÈÖç‰ª•/user/ÂºÄÂ§¥ÁöÑË∑ØÁî±</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/user/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://order-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="l">Path=/order/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">default-filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">AddRequestHeader=color,this is red</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">globalcors</span><span class="p">:</span><span class="w"> </span><span class="c"># ÂÖ®Â±ÄÁöÑË∑®ÂüüÂ§ÑÁêÜ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">add-to-simple-url-handler-mapping</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># Ëß£ÂÜ≥optionsËØ∑Ê±ÇË¢´Êã¶Êà™ÈóÆÈ¢ò</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">corsConfigurations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">&#39;[/**]&#39;</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowedOriginPatterns</span><span class="p">:</span><span class="w"> </span><span class="c"># ÂÖÅËÆ∏Âì™‰∫õÁΩëÁ´ôÁöÑË∑®ÂüüËØ∑Ê±Ç</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;http://localhost:8090&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;http://localhost:5500&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;http://www.leyou.com&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowedMethods</span><span class="p">:</span><span class="w"> </span><span class="c"># ÂÖÅËÆ∏ÁöÑË∑®ÂüüajaxÁöÑËØ∑Ê±ÇÊñπÂºè</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;GET&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;POST&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;DELETE&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;PUT&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span>- <span class="s2">&#34;OPTIONS&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowedHeaders</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;*&#34;</span><span class="w"> </span><span class="c"># ÂÖÅËÆ∏Âú®ËØ∑Ê±Ç‰∏≠Êê∫Â∏¶ÁöÑÂ§¥‰ø°ÊÅØ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">allowCredentials</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c"># ÊòØÂê¶ÂÖÅËÆ∏Êê∫Â∏¶cookie</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">maxAge</span><span class="p">:</span><span class="w"> </span><span class="m">360000</span><span class="w"> </span><span class="c"># ËøôÊ¨°Ë∑®ÂüüÊ£ÄÊµãÁöÑÊúâÊïàÊúü,‰∏ÄÂÆöÊó∂Èó¥ÂÜÖ‰∏çÈúÄË¶ÅÂú®È™åËØÅË∑®ÂüüÔºåÁõ¥Êé•ËÆøÈóÆ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8888</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/springsecurity/">
        
        
            <div class="article-image">
                <img src="/p/springsecurity/202412212133331.17160ff775d0c4cdc8a3406cfa05a128_hu5648387431953040294.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post SpringSecurity"
                        data-key="SpringSecurity" 
                        data-hash="md5-FxYP93XQxM3Io0Bs&#43;gWhKA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">SpringSecurity</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/springmvc/">
        
        
            <div class="article-image">
                <img src="/p/springmvc/202412212133331.17160ff775d0c4cdc8a3406cfa05a128_hu5648387431953040294.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post SpringMVC"
                        data-key="SpringMVC" 
                        data-hash="md5-FxYP93XQxM3Io0Bs&#43;gWhKA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">SpringMVC</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/aot%E5%AD%A6%E4%B9%A0/">
        
        
            <div class="article-image">
                <img src="/p/aot%E5%AD%A6%E4%B9%A0/202412212133331.17160ff775d0c4cdc8a3406cfa05a128_hu5648387431953040294.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post AOTÂ≠¶‰π†"
                        data-key="AOTÂ≠¶‰π†" 
                        data-hash="md5-FxYP93XQxM3Io0Bs&#43;gWhKA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">AOTÂ≠¶‰π†</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/idea%E6%96%B0%E5%BB%BAssm%E9%A1%B9%E7%9B%AE/">
        
        
            <div class="article-image">
                <img src="/p/idea%E6%96%B0%E5%BB%BAssm%E9%A1%B9%E7%9B%AE/202412212133331.17160ff775d0c4cdc8a3406cfa05a128_hu5648387431953040294.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post IdeaÊñ∞Âª∫SSMÈ°πÁõÆ"
                        data-key="IdeaÊñ∞Âª∫SSMÈ°πÁõÆ" 
                        data-hash="md5-FxYP93XQxM3Io0Bs&#43;gWhKA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">IdeaÊñ∞Âª∫SSMÈ°πÁõÆ</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/04_spring6/">
        
        
            <div class="article-image">
                <img src="/p/04_spring6/202412212133331.17160ff775d0c4cdc8a3406cfa05a128_hu5648387431953040294.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 04_Spring6"
                        data-key="04_Spring6" 
                        data-hash="md5-FxYP93XQxM3Io0Bs&#43;gWhKA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">04_Spring6</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Ê∑±Êµ∑ÁÅ´ÈîÖÂ∫ó
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
